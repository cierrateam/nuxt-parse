/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[,,,,,,function(e,t,r){"use strict";var n=r(69),o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(r(54)),c=o(r(55)),f=o(r(3)),d=o(r(5)),h=o(r(9)),v=o(r(11)),y=o(r(7)),_=o(r(191)),m=o(r(37)),w=o(r(30)),k=o(r(123)),O=o(r(38)),S=o(r(194)),E=o(r(20)),C=o(r(25)),A=r(91),N=r(72),P=r(39),I=o(r(40)),T=o(r(26)),R=n(r(195)),j=o(r(122)),x=n(r(196)),D=o(r(197)),L={},U=0,M=0,F=!y.default.get("IS_NODE");function K(){var e=y.default.get("SERVER_URL");"/"!==e[e.length-1]&&(e+="/");var t=e.replace(/https?:\/\//,"");return t.substr(t.indexOf("/"))}F?y.default.setObjectStateController(R):y.default.setObjectStateController(x);var J,W=function(){function e(t,r,n){(0,d.default)(this,e),(0,v.default)(this,"id",void 0),(0,v.default)(this,"_localId",void 0),(0,v.default)(this,"_objCount",void 0),(0,v.default)(this,"className",void 0),"function"==typeof this.initialize&&this.initialize.apply(this,arguments);var o=null;if(this._objCount=M++,"string"==typeof t)this.className=t,r&&"object"===(0,f.default)(r)&&(o=r);else if(t&&"object"===(0,f.default)(t)){for(var l in this.className=t.className,o={},t)"className"!==l&&(o[l]=t[l]);r&&"object"===(0,f.default)(r)&&(n=r)}if(o&&!this.set(o,n))throw new Error("Can't create an invalid Parse Object")}var t,r;return(0,h.default)(e,[{key:"_getId",value:function(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;var e="local"+String(U++);return this._localId=e,e}},{key:"_getStateIdentifier",value:function(){if(F){var e=this.id;return e||(e=this._getId()),{id:e,className:this.className}}return this}},{key:"_getServerData",value:function(){return y.default.getObjectStateController().getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var e=this._getServerData(),t={};for(var r in e)t[r]=void 0;y.default.getObjectStateController().setServerData(this._getStateIdentifier(),t)}},{key:"_getPendingOps",value:function(){return y.default.getObjectStateController().getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(e){var t=this._getPendingOps(),r=t[t.length-1];(e||Object.keys(r)).forEach(function(e){delete r[e]})}},{key:"_getDirtyObjectAttributes",value:function(){var t=this.attributes,r=y.default.getObjectStateController().getObjectCache(this._getStateIdentifier()),n={};for(var o in t){var l=t[o];if(l&&"object"===(0,f.default)(l)&&!(l instanceof e)&&!(l instanceof C.default)&&!(l instanceof T.default))try{var c=(0,w.default)(l,!1,!0),d=JSON.stringify(c);r[o]!==d&&(n[o]=l)}catch(e){n[o]=l}}return n}},{key:"_toFullJSON",value:function(e){var t=this.toJSON(e);return t.__type="Object",t.className=this.className,t}},{key:"_getSaveJSON",value:function(){var e=this._getPendingOps(),t=this._getDirtyObjectAttributes(),r={};for(var n in t){for(var o=!1,i=0;i<e.length;i+=1)for(var l in e[i]){if(l.includes("."))if(l.split(".")[0]===n){o=!0;break}}o||(r[n]=new P.SetOp(t[n]).toJSON())}for(n in e[0])r[n]=e[0][n].toJSON();return r}},{key:"_getSaveParams",value:function(){var e=this.id?"PUT":"POST",body=this._getSaveJSON(),path="classes/"+this.className;return this.id?path+="/"+this.id:"_User"===this.className&&(path="users"),{method:e,body:body,path:path}}},{key:"_finishFetch",value:function(e){!this.id&&e.objectId&&(this.id=e.objectId);var t=y.default.getObjectStateController();t.initializeState(this._getStateIdentifier());var r={};for(var n in e)"ACL"===n?r[n]=new O.default(e[n]):"objectId"!==n&&(r[n]=(0,m.default)(e[n]),r[n]instanceof T.default&&r[n]._ensureParentAndKey(this,n));r.createdAt&&"string"==typeof r.createdAt&&(r.createdAt=(0,S.default)(r.createdAt)),r.updatedAt&&"string"==typeof r.updatedAt&&(r.updatedAt=(0,S.default)(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),t.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_setExisted",value:function(e){var t=y.default.getObjectStateController().getState(this._getStateIdentifier());t&&(t.existed=e)}},{key:"_migrateId",value:function(e){if(this._localId&&e)if(F){var t=y.default.getObjectStateController(),r=t.removeState(this._getStateIdentifier());this.id=e,delete this._localId,r&&t.initializeState(this._getStateIdentifier(),r)}else this.id=e,delete this._localId}},{key:"_handleSaveResponse",value:function(e,t){var r={},n=y.default.getObjectStateController(),o=n.popPendingState(this._getStateIdentifier());for(var l in o)o[l]instanceof P.RelationOp?r[l]=o[l].applyTo(void 0,this,l):l in e||(r[l]=o[l].applyTo(void 0));for(l in e)"createdAt"!==l&&"updatedAt"!==l||"string"!=typeof e[l]?"ACL"===l?r[l]=new O.default(e[l]):"objectId"!==l&&(r[l]=(0,m.default)(e[l]),r[l]instanceof P.UnsetOp&&(r[l]=void 0)):r[l]=(0,S.default)(e[l]);r.createdAt&&!r.updatedAt&&(r.updatedAt=r.createdAt),this._migrateId(e.objectId),201!==t&&this._setExisted(!0),n.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_handleSaveError",value:function(){y.default.getObjectStateController().mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(e){var t=this.id?this.className+":"+this.id:this;e=e||[t];var r={},n=this.attributes;for(var o in n)"createdAt"!==o&&"updatedAt"!==o||!n[o].toJSON?r[o]=(0,w.default)(n[o],!1,!1,e):r[o]=n[o].toJSON();var l=this._getPendingOps();for(var c in l[0])r[c]=l[0][c].toJSON();return this.id&&(r.objectId=this.id),r}},{key:"equals",value:function(t){return this===t||t instanceof e&&this.className===t.className&&this.id===t.id&&void 0!==this.id}},{key:"dirty",value:function(e){if(!this.id)return!0;var t=this._getPendingOps(),r=this._getDirtyObjectAttributes();if(e){if(r.hasOwnProperty(e))return!0;for(var i=0;i<t.length;i++)if(t[i].hasOwnProperty(e))return!0;return!1}return 0!==Object.keys(t[0]).length||0!==Object.keys(r).length}},{key:"dirtyKeys",value:function(){for(var e=this._getPendingOps(),t={},i=0;i<e.length;i++)for(var r in e[i])t[r]=!0;var n=this._getDirtyObjectAttributes();for(var o in n)t[o]=!0;return Object.keys(t)}},{key:"isDataAvailable",value:function(){var e=this._getServerData();return!!Object.keys(e).length}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"get",value:function(e){return this.attributes[e]}},{key:"relation",value:function(e){var t=this.get(e);if(t){if(!(t instanceof T.default))throw new Error("Called relation() on non-relation field "+e);return t._ensureParentAndKey(this,e),t}return new T.default(this,e)}},{key:"escape",value:function(e){var t=this.attributes[e];if(null==t)return"";if("string"!=typeof t){if("function"!=typeof t.toString)return"";t=t.toString()}return(0,k.default)(t)}},{key:"has",value:function(e){var t=this.attributes;return!!t.hasOwnProperty(e)&&null!=t[e]}},{key:"set",value:function(e,t,r){var n={},o={};if(e&&"object"===(0,f.default)(e))n=e,r=t;else{if("string"!=typeof e)return this;n[e]=t}r=r||{};var l=[];for(var c in"function"==typeof this.constructor.readOnlyAttributes&&(l=l.concat(this.constructor.readOnlyAttributes())),n)if("createdAt"!==c&&"updatedAt"!==c){if(l.indexOf(c)>-1)throw new Error("Cannot modify readonly attribute: "+c);if(r.unset)o[c]=new P.UnsetOp;else if(n[c]instanceof P.Op)o[c]=n[c];else if(n[c]&&"object"===(0,f.default)(n[c])&&"string"==typeof n[c].__op)o[c]=(0,P.opFromJSON)(n[c]);else if("objectId"===c||"id"===c)"string"==typeof n[c]&&(this.id=n[c]);else if("ACL"!==c||"object"!==(0,f.default)(n[c])||n[c]instanceof O.default)if(n[c]instanceof T.default){var d=new T.default(this,c);d.targetClassName=n[c].targetClassName,o[c]=new P.SetOp(d)}else o[c]=new P.SetOp(n[c]);else o[c]=new P.SetOp(new O.default(n[c]))}var h=this.attributes,v=this._getServerData();if("string"==typeof e&&e.includes(".")&&!v[e.split(".")[0]])return this;var _={};for(var m in o)o[m]instanceof P.RelationOp?_[m]=o[m].applyTo(h[m],this,m):o[m]instanceof P.UnsetOp||(_[m]=o[m].applyTo(h[m]));if(!r.ignoreValidation){var w=this.validate(_);if(w)return"function"==typeof r.error&&r.error(this,w),!1}var k=this._getPendingOps(),S=k.length-1,E=y.default.getObjectStateController();for(var C in o){var A=o[C].mergeWith(k[S][C]);E.setPendingOp(this._getStateIdentifier(),C,A)}return this}},{key:"unset",value:function(e,t){return(t=t||{}).unset=!0,this.set(e,null,t)}},{key:"increment",value:function(e,t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("Cannot increment by a non-numeric amount.");return this.set(e,new P.IncrementOp(t))}},{key:"add",value:function(e,t){return this.set(e,new P.AddOp([t]))}},{key:"addAll",value:function(e,t){return this.set(e,new P.AddOp(t))}},{key:"addUnique",value:function(e,t){return this.set(e,new P.AddUniqueOp([t]))}},{key:"addAllUnique",value:function(e,t){return this.set(e,new P.AddUniqueOp(t))}},{key:"remove",value:function(e,t){return this.set(e,new P.RemoveOp([t]))}},{key:"removeAll",value:function(e,t){return this.set(e,new P.RemoveOp(t))}},{key:"op",value:function(e){for(var t=this._getPendingOps(),i=t.length;i--;)if(t[i][e])return t[i][e]}},{key:"clone",value:function(){var e=new this.constructor;e.className||(e.className=this.className);var t=this.attributes;if("function"==typeof this.constructor.readOnlyAttributes){var r=this.constructor.readOnlyAttributes()||[],n={};for(var a in t)r.indexOf(a)<0&&(n[a]=t[a]);t=n}return e.set&&e.set(t),e}},{key:"newInstance",value:function(){var e=new this.constructor;if(e.className||(e.className=this.className),e.id=this.id,F)return e;var t=y.default.getObjectStateController();return t&&t.duplicateState(this._getStateIdentifier(),e._getStateIdentifier()),e}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var e=y.default.getObjectStateController().getState(this._getStateIdentifier());return!!e&&e.existed}},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(e){if(e.hasOwnProperty("ACL")&&!(e.ACL instanceof O.default))return new E.default(E.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(var t in e)if(!/^[A-Za-z][0-9A-Za-z_.]*$/.test(t))return new E.default(E.default.INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var e=this.get("ACL");return e instanceof O.default?e:null}},{key:"setACL",value:function(e,t){return this.set("ACL",e,t)}},{key:"revert",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length){e=[];for(var o=0,l=r;o<l.length;o++){var c=l[o];if("string"!=typeof c)throw new Error("Parse.Object#revert expects either no, or a list of string, arguments.");e.push(c)}}this._clearPendingOps(e)}},{key:"clear",value:function(){var e=this.attributes,t={},r=["createdAt","updatedAt"];for(var n in"function"==typeof this.constructor.readOnlyAttributes&&(r=r.concat(this.constructor.readOnlyAttributes())),e)r.indexOf(n)<0&&(t[n]=!0);return this.set(t,{unset:!0})}},{key:"fetch",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("include")&&(t.include=[],Array.isArray(e.include)?e.include.forEach(function(e){Array.isArray(e)?t.include=t.include.concat(e):t.include.push(e)}):t.include.push(e.include)),y.default.getObjectController().fetch(this,!0,t)}},{key:"fetchWithInclude",value:function(e,t){return(t=t||{}).include=e,this.fetch(t)}},{key:"save",value:function(e,t,r){var n,o,l=this;if("object"===(0,f.default)(e)||void 0===e?(n=e,"object"===(0,f.default)(t)&&(o=t)):((n={})[e]=t,o=r),!o&&n&&(o={},"function"==typeof n.success&&(o.success=n.success,delete n.success),"function"==typeof n.error&&(o.error=n.error,delete n.error)),n){var c=this.validate(n);if(c)return o&&"function"==typeof o.error&&o.error(this,c),Promise.reject(c);this.set(n,o)}var d={};(o=o||{}).hasOwnProperty("useMasterKey")&&(d.useMasterKey=!!o.useMasterKey),o.hasOwnProperty("sessionToken")&&"string"==typeof o.sessionToken&&(d.sessionToken=o.sessionToken);var h=y.default.getObjectController(),v=(0,D.default)(this);return h.save(v,d).then(function(){return h.save(l,d)})}},{key:"destroy",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),this.id?y.default.getObjectController().destroy(this,t):Promise.resolve()}},{key:"pin",value:function(){return e.pinAllWithName(N.DEFAULT_PIN,[this])}},{key:"unPin",value:function(){return e.unPinAllWithName(N.DEFAULT_PIN,[this])}},{key:"isPinned",value:(r=(0,c.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=y.default.getLocalDatastore()).isEnabled){e.next=3;break}return e.abrupt("return",Promise.reject("Parse.enableLocalDatastore() must be called first"));case 3:return r=t.getKeyForObject(this),e.next=6,t.fromPinWithName(r);case 6:return n=e.sent,e.abrupt("return",n.length>0);case 8:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"pinWithName",value:function(t){return e.pinAllWithName(t,[this])}},{key:"unPinWithName",value:function(t){return e.unPinAllWithName(t,[this])}},{key:"fetchFromLocalDatastore",value:(t=(0,c.default)(l.default.mark(function t(){var r,n,o,c;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=y.default.getLocalDatastore()).isEnabled){t.next=3;break}throw new Error("Parse.enableLocalDatastore() must be called first");case 3:return n=r.getKeyForObject(this),t.next=6,r._serializeObject(n);case 6:if(o=t.sent){t.next=9;break}throw new Error("Cannot fetch an unsaved ParseObject");case 9:return c=e.fromJSON(o),this._finishFetch(c.toJSON()),t.abrupt("return",this);case 12:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"attributes",get:function(){var e=y.default.getObjectStateController();return Object.freeze(e.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}}],[{key:"_clearAllState",value:function(){y.default.getObjectStateController().clearAllState()}},{key:"fetchAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("include")&&(r.include=[],Array.isArray(t.include)?t.include.forEach(function(e){Array.isArray(e)?r.include=r.include.concat(e):r.include.push(e)}):r.include.push(t.include)),y.default.getObjectController().fetch(e,!0,r)}},{key:"fetchAllWithInclude",value:function(t,r,n){return(n=n||{}).include=r,e.fetchAll(t,n)}},{key:"fetchAllIfNeeded",value:function(e,t){var r={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),y.default.getObjectController().fetch(e,!1,r)}},{key:"destroyAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(r.batchSize=t.batchSize),y.default.getObjectController().destroy(e,r)}},{key:"saveAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(r.batchSize=t.batchSize),y.default.getObjectController().save(e,r)}},{key:"createWithoutData",value:function(e){var t=new this;return t.id=e,t}},{key:"fromJSON",value:function(t,r){if(!t.className)throw new Error("Cannot create an object without a className");var n=L[t.className],o=n?new n:new e(t.className),l={};for(var c in t)"className"!==c&&"__type"!==c&&(l[c]=t[c]);if(r){l.objectId&&(o.id=l.objectId);var f=null;"function"==typeof o._preserveFieldsOnFetch&&(f=o._preserveFieldsOnFetch()),o._clearServerData(),f&&o._finishFetch(f)}return o._finishFetch(l),t.objectId&&o._setExisted(!0),o}},{key:"registerSubclass",value:function(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a valid class name.");if(void 0===t)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof t)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");L[e]=t,t.className||(t.className=e)}},{key:"extend",value:function(t,r,n){if("string"!=typeof t){if(t&&"string"==typeof t.className)return e.extend(t.className,t,r);throw new Error("Parse.Object.extend's first argument should be the className.")}var o=t;"User"===o&&y.default.get("PERFORM_USER_REWRITE")&&(o="_User");var l=e.prototype;this.hasOwnProperty("__super__")&&this.__super__?l=this.prototype:L[o]&&(l=L[o].prototype);var c=function(e,t){if(this.className=o,this._objCount=M++,"function"==typeof this.initialize&&this.initialize.apply(this,arguments),e&&"object"===(0,f.default)(e)&&!this.set(e||{},t))throw new Error("Can't create an invalid Parse Object")};if(c.className=o,c.__super__=l,c.prototype=Object.create(l,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r)for(var d in r)"className"!==d&&Object.defineProperty(c.prototype,d,{value:r[d],enumerable:!1,writable:!0,configurable:!0});if(n)for(var h in n)"className"!==h&&Object.defineProperty(c,h,{value:n[h],enumerable:!1,writable:!0,configurable:!0});return c.extend=function(t,r,n){return"string"==typeof t?e.extend.call(c,t,r,n):e.extend.call(c,o,t,r)},c.createWithoutData=e.createWithoutData,L[o]=c,c}},{key:"enableSingleInstance",value:function(){F=!0,y.default.setObjectStateController(R)}},{key:"disableSingleInstance",value:function(){F=!1,y.default.setObjectStateController(x)}},{key:"pinAll",value:function(t){return y.default.getLocalDatastore().isEnabled?e.pinAllWithName(N.DEFAULT_PIN,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}},{key:"pinAllWithName",value:function(e,t){var r=y.default.getLocalDatastore();return r.isEnabled?r._handlePinAllWithName(e,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAll",value:function(t){return y.default.getLocalDatastore().isEnabled?e.unPinAllWithName(N.DEFAULT_PIN,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllWithName",value:function(e,t){var r=y.default.getLocalDatastore();return r.isEnabled?r._handleUnPinAllWithName(e,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjects",value:function(){var e=y.default.getLocalDatastore();return e.isEnabled?e.unPinWithName(N.DEFAULT_PIN):Promise.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjectsWithName",value:function(e){var t=y.default.getLocalDatastore();return t.isEnabled?t.unPinWithName(N.PIN_PREFIX+e):Promise.reject("Parse.enableLocalDatastore() must be called first")}}]),e}(),$={fetch:function(e,t,r){var n=y.default.getLocalDatastore();if(Array.isArray(e)){if(e.length<1)return Promise.resolve([]);var o=[],f=[],d=null,h=[],v=null;if(e.forEach(function(e){v||(d||(d=e.className),d!==e.className&&(v=new E.default(E.default.INVALID_CLASS_NAME,"All objects should be of the same class")),e.id||(v=new E.default(E.default.MISSING_OBJECT_ID,"All objects must have an ID")),!t&&e.isDataAvailable()||(f.push(e.id),o.push(e)),h.push(e))}),v)return Promise.reject(v);var _=new I.default(d);return _.containedIn("objectId",f),r&&r.include&&_.include(r.include),_._limit=f.length,_.find(r).then(function(){var e=(0,c.default)(l.default.mark(function e(r){var c,i,f,d,v,y,_,m,object;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c={},r.forEach(function(e){c[e.id]=e}),i=0;case 3:if(!(i<o.length)){e.next=11;break}if((f=o[i])&&f.id&&c[f.id]){e.next=8;break}if(!t){e.next=8;break}return e.abrupt("return",Promise.reject(new E.default(E.default.OBJECT_NOT_FOUND,"All objects must exist on the server.")));case 8:i++,e.next=3;break;case 11:if(!F)for(d=0;d<h.length;d++)(v=h[d])&&v.id&&c[v.id]&&(y=v.id,v._finishFetch(c[y].toJSON()),h[d]=c[y]);_=0,m=h;case 13:if(!(_<m.length)){e.next=20;break}return object=m[_],e.next=17,n._updateObjectIfPinned(object);case 17:_++,e.next=13;break;case 20:return e.abrupt("return",Promise.resolve(h));case 21:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}())}var m=y.default.getRESTController(),w={};return r&&r.include&&(w.include=r.include.join()),m.request("GET","classes/"+e.className+"/"+e._getId(),w,r).then(function(){var t=(0,c.default)(l.default.mark(function t(r){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e instanceof W&&(e._clearPendingOps(),e._clearServerData(),e._finishFetch(r)),t.next=3,n._updateObjectIfPinned(e);case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}())},destroy:(J=(0,c.default)(l.default.mark(function e(t,r){var n,o,f,d,h,v;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r&&r.batchSize?r.batchSize:20,o=y.default.getLocalDatastore(),f=y.default.getRESTController(),!Array.isArray(t)){e.next=15;break}if(!(t.length<1)){e.next=6;break}return e.abrupt("return",Promise.resolve([]));case 6:return d=[[]],t.forEach(function(e){e.id&&(d[d.length-1].push(e),d[d.length-1].length>=n&&d.push([]))}),0===d[d.length-1].length&&d.pop(),h=Promise.resolve(),v=[],d.forEach(function(e){h=h.then(function(){return f.request("POST","batch",{requests:e.map(function(e){return{method:"DELETE",path:K()+"classes/"+e.className+"/"+e._getId(),body:{}}})},r).then(function(t){for(var i=0;i<t.length;i++)if(t[i]&&t[i].hasOwnProperty("error")){var r=new E.default(t[i].error.code,t[i].error.error);r.object=e[i],v.push(r)}})})}),e.abrupt("return",h.then((0,c.default)(l.default.mark(function e(){var r,n,c,f,d,h,object;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.length){e.next=4;break}return(r=new E.default(E.default.AGGREGATE_ERROR)).errors=v,e.abrupt("return",Promise.reject(r));case 4:n=!0,c=!1,f=void 0,e.prev=7,d=t[Symbol.iterator]();case 9:if(n=(h=d.next()).done){e.next=16;break}return object=h.value,e.next=13,o._destroyObjectIfPinned(object);case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),c=!0,f=e.t0;case 22:e.prev=22,e.prev=23,n||null==d.return||d.return();case 25:if(e.prev=25,!c){e.next=28;break}throw f;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",Promise.resolve(t));case 31:case"end":return e.stop()}},e,null,[[7,18,22,30],[23,,25,29]])}))));case 15:if(!(t instanceof W)){e.next=17;break}return e.abrupt("return",f.request("DELETE","classes/"+t.className+"/"+t._getId(),{},r).then((0,c.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._destroyObjectIfPinned(t);case 2:return e.abrupt("return",Promise.resolve(t));case 3:case"end":return e.stop()}},e)}))));case 17:return e.next=19,o._destroyObjectIfPinned(t);case 19:return e.abrupt("return",Promise.resolve(t));case 20:case"end":return e.stop()}},e)})),function(){return J.apply(this,arguments)}),save:function(e,t){var r=t&&t.batchSize?t.batchSize:20,n=y.default.getLocalDatastore(),o={},f=y.default.getRESTController(),d=y.default.getObjectStateController();if((t=t||{}).returnStatus=t.returnStatus||!0,Array.isArray(e)){if(e.length<1)return Promise.resolve([]);for(var h=e.concat(),i=0;i<e.length;i++)e[i]instanceof W&&(h=h.concat((0,D.default)(e[i],!0)));h=(0,j.default)(h);var v=Promise.resolve(),m=[];return h.forEach(function(e){e instanceof C.default?v=v.then(function(){return e.save()}):e instanceof W&&m.push(e)}),v.then(function(){var h=null;return(0,A.continueWhile)(function(){return m.length>0},function(){var e,n,l=[],c=[];if(m.forEach(function(e){l.length<r&&(0,_.default)(e)?l.push(e):c.push(e)}),m=c,l.length<1)return Promise.reject(new E.default(E.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));var v=new Promise(function(t,r){e=t,n=r});v.resolve=e,v.reject=n;var y=[],w=[];return l.forEach(function(e,t){var r,n,l=new Promise(function(e,t){r=e,n=t});l.resolve=r,l.reject=n,y.push(l),d.pushPendingState(e._getStateIdentifier()),w.push(d.enqueueTask(e._getStateIdentifier(),function(){return l.resolve(),v.then(function(r){if(r[t].hasOwnProperty("success")){var n=r[t].success.objectId,l=r[t]._status;delete r[t]._status,o[n]=e._localId,e._handleSaveResponse(r[t].success,l)}else{if(!h&&r[t].hasOwnProperty("error")){var c=r[t].error;h=new E.default(c.code,c.error),m=[]}e._handleSaveError()}})}))}),(0,A.when)(y).then(function(){return f.request("POST","batch",{requests:l.map(function(e){var t=e._getSaveParams();return t.path=K()+t.path,t})},t)}).then(v.resolve,function(e){v.reject(new E.default(E.default.INCORRECT_TYPE,e.message))}),(0,A.when)(w)}).then((0,c.default)(l.default.mark(function t(){var r,c,f,d,v,object;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return",Promise.reject(h));case 2:r=!0,c=!1,f=void 0,t.prev=5,d=e[Symbol.iterator]();case 7:if(r=(v=d.next()).done){t.next=16;break}return object=v.value,t.next=11,n._updateLocalIdForObject(o[object.id],object);case 11:return t.next=13,n._updateObjectIfPinned(object);case 13:r=!0,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),c=!0,f=t.t0;case 22:t.prev=22,t.prev=23,r||null==d.return||d.return();case 25:if(t.prev=25,!c){t.next=28;break}throw f;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return t.abrupt("return",Promise.resolve(e));case 31:case"end":return t.stop()}},t,null,[[5,18,22,30],[23,,25,29]])})))})}if(e instanceof W){var w=e._localId,k=e;return d.pushPendingState(e._getStateIdentifier()),d.enqueueTask(e._getStateIdentifier(),function(){var e=k._getSaveParams();return f.request(e.method,e.path,e.body,t).then(function(e){var t=e._status;delete e._status,k._handleSaveResponse(e,t)},function(e){return k._handleSaveError(),Promise.reject(e)})}).then((0,c.default)(l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateLocalIdForObject(w,e);case 2:return t.next=4,n._updateObjectIfPinned(e);case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}},t)})),function(e){return Promise.reject(e)})}return Promise.resolve()}};y.default.setObjectController($);var V=W;t.default=V},function(e,t,r){"use strict";(function(t){var r={IS_NODE:void 0!==t&&!!t.versions&&!!t.versions.node&&!t.versions.electron,REQUEST_ATTEMPT_LIMIT:5,SERVER_URL:"https://api.parse.com/1",SERVER_AUTH_TYPE:null,SERVER_AUTH_TOKEN:null,LIVEQUERY_SERVER_URL:null,VERSION:"js2.5.1",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1};function n(e,t,r){t.forEach(function(t){if("function"!=typeof r[t])throw new Error("".concat(e," must implement ").concat(t,"()"))})}e.exports={get:function(e){if(r.hasOwnProperty(e))return r[e];throw new Error("Configuration key not found: "+e)},set:function(e,t){r[e]=t},setAnalyticsController:function(e){n("AnalyticsController",["track"],e),r.AnalyticsController=e},getAnalyticsController:function(){return r.AnalyticsController},setCloudController:function(e){n("CloudController",["run","getJobsData","startJob"],e),r.CloudController=e},getCloudController:function(){return r.CloudController},setConfigController:function(e){n("ConfigController",["current","get","save"],e),r.ConfigController=e},getConfigController:function(){return r.ConfigController},setFileController:function(e){n("FileController",["saveFile","saveBase64"],e),r.FileController=e},getFileController:function(){return r.FileController},setInstallationController:function(e){n("InstallationController",["currentInstallationId"],e),r.InstallationController=e},getInstallationController:function(){return r.InstallationController},setObjectController:function(e){n("ObjectController",["save","fetch","destroy"],e),r.ObjectController=e},getObjectController:function(){return r.ObjectController},setObjectStateController:function(e){n("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],e),r.ObjectStateController=e},getObjectStateController:function(){return r.ObjectStateController},setPushController:function(e){n("PushController",["send"],e),r.PushController=e},getPushController:function(){return r.PushController},setQueryController:function(e){n("QueryController",["find","aggregate"],e),r.QueryController=e},getQueryController:function(){return r.QueryController},setRESTController:function(e){n("RESTController",["request","ajax"],e),r.RESTController=e},getRESTController:function(){return r.RESTController},setSchemaController:function(e){n("SchemaController",["get","create","update","delete","send","purge"],e),r.SchemaController=e},getSchemaController:function(){return r.SchemaController},setSessionController:function(e){n("SessionController",["getSession"],e),r.SessionController=e},getSessionController:function(){return r.SessionController},setStorageController:function(e){e.async?n("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync"],e):n("A synchronous StorageController",["getItem","setItem","removeItem"],e),r.StorageController=e},setLocalDatastoreController:function(e){n("LocalDatastoreController",["pinWithName","fromPinWithName","unPinWithName","getAllContents","clear"],e),r.LocalDatastoreController=e},getLocalDatastoreController:function(){return r.LocalDatastoreController},setLocalDatastore:function(e){r.LocalDatastore=e},getLocalDatastore:function(){return r.LocalDatastore},getStorageController:function(){return r.StorageController},setAsyncStorage:function(e){r.AsyncStorage=e},getAsyncStorage:function(){return r.AsyncStorage},setUserController:function(e){n("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","me","requestPasswordReset","upgradeToRevocableSession","linkWith"],e),r.UserController=e},getUserController:function(){return r.UserController},setLiveQueryController:function(e){n("LiveQueryController",["setDefaultLiveQueryClient","getDefaultLiveQueryClient","_clearCachedDefaultClient"],e),r.LiveQueryController=e},getLiveQueryController:function(){return r.LiveQueryController},setHooksController:function(e){n("HooksController",["create","get","update","remove"],e),r.HooksController=e},getHooksController:function(){return r.HooksController}}}).call(this,r(89))},,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(23)),f=n(r(16)),d=n(r(70)),h=n(r(24)),v=function(e){function t(code,e){var r;return(0,o.default)(this,t),(r=(0,c.default)(this,(0,f.default)(t).call(this,e))).code=code,Object.defineProperty((0,d.default)(r),"message",{enumerable:!0,value:e}),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"toString",value:function(){return"ParseError: "+this.code+" "+this.message}}]),t}((0,n(r(187)).default)(Error));v.OTHER_CAUSE=-1,v.INTERNAL_SERVER_ERROR=1,v.CONNECTION_FAILED=100,v.OBJECT_NOT_FOUND=101,v.INVALID_QUERY=102,v.INVALID_CLASS_NAME=103,v.MISSING_OBJECT_ID=104,v.INVALID_KEY_NAME=105,v.INVALID_POINTER=106,v.INVALID_JSON=107,v.COMMAND_UNAVAILABLE=108,v.NOT_INITIALIZED=109,v.INCORRECT_TYPE=111,v.INVALID_CHANNEL_NAME=112,v.PUSH_MISCONFIGURED=115,v.OBJECT_TOO_LARGE=116,v.OPERATION_FORBIDDEN=119,v.CACHE_MISS=120,v.INVALID_NESTED_KEY=121,v.INVALID_FILE_NAME=122,v.INVALID_ACL=123,v.TIMEOUT=124,v.INVALID_EMAIL_ADDRESS=125,v.MISSING_CONTENT_TYPE=126,v.MISSING_CONTENT_LENGTH=127,v.INVALID_CONTENT_LENGTH=128,v.FILE_TOO_LARGE=129,v.FILE_SAVE_ERROR=130,v.DUPLICATE_VALUE=137,v.INVALID_ROLE_NAME=139,v.EXCEEDED_QUOTA=140,v.SCRIPT_FAILED=141,v.VALIDATION_ERROR=142,v.INVALID_IMAGE_DATA=143,v.UNSAVED_FILE_ERROR=151,v.INVALID_PUSH_TIME_ERROR=152,v.FILE_DELETE_ERROR=153,v.REQUEST_LIMIT_EXCEEDED=155,v.INVALID_EVENT_NAME=160,v.USERNAME_MISSING=200,v.PASSWORD_MISSING=201,v.USERNAME_TAKEN=202,v.EMAIL_TAKEN=203,v.EMAIL_MISSING=204,v.EMAIL_NOT_FOUND=205,v.SESSION_MISSING=206,v.MUST_CREATE_USER_THROUGH_SIGNUP=207,v.ACCOUNT_ALREADY_LINKED=208,v.INVALID_SESSION_TOKEN=209,v.LINKED_ID_MISSING=250,v.INVALID_LINKED_SESSION=251,v.UNSUPPORTED_SERVICE=252,v.INVALID_SCHEMA_OPERATION=255,v.AGGREGATE_ERROR=600,v.FILE_READ_ERROR=601,v.X_DOMAIN_REQUEST=602;var y=v;t.default=y},,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(54)),l=n(r(55)),c=n(r(5)),f=n(r(9)),d=n(r(11)),h=n(r(7)),v=null;"undefined"!=typeof XMLHttpRequest&&(v=XMLHttpRequest);var y=/^data:([a-zA-Z]+\/[-a-zA-Z0-9+.]+)(;charset=[a-zA-Z0-9\-\/]*)?;base64,/;function _(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new TypeError("Tried to encode large digit "+e+" in base64.")}var m=function(){function e(t,data,r){(0,c.default)(this,e),(0,d.default)(this,"_name",void 0),(0,d.default)(this,"_url",void 0),(0,d.default)(this,"_source",void 0),(0,d.default)(this,"_previousSave",void 0),(0,d.default)(this,"_data",void 0);var n=r||"";if(this._name=t,void 0!==data)if(Array.isArray(data))this._data=e.encodeBase64(data),this._source={format:"base64",base64:this._data,type:n};else if("undefined"!=typeof Blob&&data instanceof Blob)this._source={format:"file",file:data,type:n};else if(data&&"string"==typeof data.uri&&void 0!==data.uri)this._source={format:"uri",uri:data.uri,type:n};else{if(!data||"string"!=typeof data.base64)throw new TypeError("Cannot create a Parse.File with that data.");var o=data.base64,l=o.indexOf(",");if(-1!==l){var f=y.exec(o.slice(0,l+1));this._data=o.slice(l+1),this._source={format:"base64",base64:this._data,type:f[1]}}else this._data=o,this._source={format:"base64",base64:o,type:n}}}var t;return(0,f.default)(e,[{key:"getData",value:(t=(0,l.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._data){e.next=2;break}return e.abrupt("return",this._data);case 2:if(this._url){e.next=4;break}throw new Error("Cannot retrieve data for unsaved ParseFile.");case 4:return t=h.default.getFileController(),e.next=7,t.download(this._url);case 7:return r=e.sent,this._data=r.base64,e.abrupt("return",this._data);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"name",value:function(){return this._name}},{key:"url",value:function(e){if(e=e||{},this._url)return e.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}},{key:"save",value:function(e){var t=this;e=e||{};var r=h.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=r.saveFile(this._name,this._source,e).then(function(e){return t._name=e.name,t._url=e.url,t._data=null,t}):"uri"===this._source.format?this._previousSave=r.download(this._source.uri).then(function(n){var o={format:"base64",base64:n.base64,type:n.contentType};return t._data=n.base64,r.saveBase64(t._name,o,e)}).then(function(e){return t._name=e.name,t._url=e.url,t}):this._previousSave=r.saveBase64(this._name,this._source,e).then(function(e){return t._name=e.name,t._url=e.url,t})),this._previousSave)return this._previousSave}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url}}},{key:"equals",value:function(t){return this===t||t instanceof e&&this.name()===t.name()&&this.url()===t.url()&&void 0!==this.url()}}],[{key:"fromJSON",value:function(t){if("File"!==t.__type)throw new TypeError("JSON object does not represent a ParseFile");var r=new e(t.name);return r._url=t.url,r}},{key:"encodeBase64",value:function(e){var t=[];t.length=Math.ceil(e.length/3);for(var i=0;i<t.length;i++){var r=e[3*i],n=e[3*i+1]||0,o=e[3*i+2]||0,l=3*i+1<e.length,c=3*i+2<e.length;t[i]=[_(r>>2&63),_(r<<4&48|n>>4&15),l?_(n<<2&60|o>>6&3):"=",c?_(63&o):"="].join("")}return t.join("")}}]),e}(),w={saveFile:function(e,source,t){if("file"!==source.format)throw new Error("saveFile can only be used with File-type sources.");var r={"X-Parse-Application-ID":h.default.get("APPLICATION_ID"),"Content-Type":source.type||(source.file?source.file.type:null)},n=h.default.get("JAVASCRIPT_KEY");n&&(r["X-Parse-JavaScript-Key"]=n);var o=h.default.get("SERVER_URL");return"/"!==o[o.length-1]&&(o+="/"),o+="files/"+e,h.default.getRESTController().ajax("POST",o,source.file,r,t).then(function(e){return e.response})},saveBase64:function(e,source,t){if("base64"!==source.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var data={base64:source.base64};return source.type&&(data._ContentType=source.type),h.default.getRESTController().request("POST","files/"+e,data,t)},download:function(e){return v?this.downloadAjax(e):Promise.reject("Cannot make a request: No definition of XMLHttpRequest was found.")},downloadAjax:function(e){return new Promise(function(t,r){var n=new v;n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){r(e)},n.onreadystatechange=function(){if(4===n.readyState){var e=new Uint8Array(this.response);t({base64:m.encodeBase64(e),contentType:n.getResponseHeader("content-type")})}},n.send()})},_setXHR:function(e){v=e}};h.default.setFileController(w);var k=m;t.default=k},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(11)),f=r(39),d=(n(r(6)),n(r(40))),h=function(){function e(t,r){(0,o.default)(this,e),(0,c.default)(this,"parent",void 0),(0,c.default)(this,"key",void 0),(0,c.default)(this,"targetClassName",void 0),this.parent=t,this.key=r,this.targetClassName=null}return(0,l.default)(e,[{key:"_ensureParentAndKey",value:function(e,t){if(this.key=this.key||t,this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==e.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==e.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else e.id&&(this.parent=e)}else this.parent=e}},{key:"add",value:function(e){Array.isArray(e)||(e=[e]);var t=new f.RelationOp(e,[]),r=this.parent;if(!r)throw new Error("Cannot add to a Relation without a parent");return r.set(this.key,t),this.targetClassName=t._targetClassName,r}},{key:"remove",value:function(e){Array.isArray(e)||(e=[e]);var t=new f.RelationOp([],e);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");this.parent.set(this.key,t),this.targetClassName=t._targetClassName}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var e,t=this.parent;if(!t)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?e=new d.default(this.targetClassName):(e=new d.default(t.className),e._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",{__type:"Pointer",className:t.className,objectId:t.id}),e._addCondition("$relatedTo","key",this.key),e}}]),e}();t.default=h},,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){return function e(t,r,n,m){if(t instanceof h.default){if(r)throw new Error("Parse Objects not allowed here");var w=t.id?t.className+":"+t.id:t;return n||!m||m.indexOf(w)>-1||t.dirty()||Object.keys(t._getServerData()).length<1?t.toPointer():(m=m.concat(w),t._toFullJSON(m))}if(t instanceof v.Op||t instanceof l.default||t instanceof f.default||t instanceof d.default||t instanceof y.default)return t.toJSON();if(t instanceof c.default){if(!t.url())throw new Error("Tried to encode an unsaved file.");return t.toJSON()}if("[object Date]"===_.call(t)){if(isNaN(t))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:t.toJSON()}}if("[object RegExp]"===_.call(t)&&"string"==typeof t.source)return t.source;if(Array.isArray(t))return t.map(function(t){return e(t,r,n,m)});if(t&&"object"===(0,o.default)(t)){var output={};for(var k in t)output[k]=e(t[k],r,n,m);return output}return t}(e,!!t,!!r,n||[])};var o=n(r(3)),l=n(r(38)),c=n(r(25)),f=n(r(31)),d=n(r(71)),h=n(r(6)),v=r(39),y=n(r(26)),_=Object.prototype.toString},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(11)),d=function(){function e(t,r){(0,l.default)(this,e),(0,f.default)(this,"_latitude",void 0),(0,f.default)(this,"_longitude",void 0),Array.isArray(t)?(e._validate(t[0],t[1]),this._latitude=t[0],this._longitude=t[1]):"object"===(0,o.default)(t)?(e._validate(t.latitude,t.longitude),this._latitude=t.latitude,this._longitude=t.longitude):void 0!==t&&void 0!==r?(e._validate(t,r),this._latitude=t,this._longitude=r):(this._latitude=0,this._longitude=0)}return(0,c.default)(e,[{key:"toJSON",value:function(){return e._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(t){return t instanceof e&&this.latitude===t.latitude&&this.longitude===t.longitude}},{key:"radiansTo",value:function(e){var t=Math.PI/180,r=this.latitude*t,n=this.longitude*t,o=e.latitude*t,l=e.longitude*t,c=Math.sin((r-o)/2),f=Math.sin((n-l)/2),a=c*c+Math.cos(r)*Math.cos(o)*f*f;return a=Math.min(1,a),2*Math.asin(Math.sqrt(a))}},{key:"kilometersTo",value:function(e){return 6371*this.radiansTo(e)}},{key:"milesTo",value:function(e){return 3958.8*this.radiansTo(e)}},{key:"latitude",get:function(){return this._latitude},set:function(t){e._validate(t,this.longitude),this._latitude=t}},{key:"longitude",get:function(){return this._longitude},set:function(t){e._validate(this.latitude,t),this._longitude=t}}],[{key:"_validate",value:function(e,t){if(isNaN(e)||isNaN(t)||"number"!=typeof e||"number"!=typeof t)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(e<-90)throw new TypeError("GeoPoint latitude out of bounds: "+e+" < -90.0.");if(e>90)throw new TypeError("GeoPoint latitude out of bounds: "+e+" > 90.0.");if(t<-180)throw new TypeError("GeoPoint longitude out of bounds: "+t+" < -180.0.");if(t>180)throw new TypeError("GeoPoint longitude out of bounds: "+t+" > 180.0.")}},{key:"current",value:function(){return navigator.geolocation.getCurrentPosition(function(t){return new e(t.coords.latitude,t.coords.longitude)})}}]),e}();t.default=d},,,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){if(null===t||"object"!==(0,o.default)(t))return t;if(Array.isArray(t)){var r=[];return t.forEach(function(t,i){r[i]=e(t)}),r}if("string"==typeof t.__op)return(0,h.opFromJSON)(t);if("Pointer"===t.__type&&t.className)return d.default.fromJSON(t);if("Object"===t.__type&&t.className)return d.default.fromJSON(t);if("Relation"===t.__type){var n=new v.default(null,null);return n.targetClassName=t.className,n}if("Date"===t.__type)return new Date(t.iso);if("File"===t.__type)return l.default.fromJSON(t);if("GeoPoint"===t.__type)return new c.default({latitude:t.latitude,longitude:t.longitude});if("Polygon"===t.__type)return new f.default(t.coordinates);var y={};for(var _ in t)y[_]=e(t[_]);return y};var o=n(r(3)),l=(n(r(38)),n(r(25))),c=n(r(31)),f=n(r(71)),d=n(r(6)),h=r(39),v=n(r(26))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(11)),d=n(r(119)),h=n(r(56)),v=function(){function e(t){if((0,l.default)(this,e),(0,f.default)(this,"permissionsById",void 0),this.permissionsById={},t&&"object"===(0,o.default)(t))if(t instanceof h.default)this.setReadAccess(t,!0),this.setWriteAccess(t,!0);else for(var r in t){var n=t[r];if("string"!=typeof r)throw new TypeError("Tried to create an ACL with an invalid user id.");for(var c in this.permissionsById[r]={},n){var d=n[c];if("read"!==c&&"write"!==c)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof d)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[r][c]=d}}else if("function"==typeof t)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return(0,c.default)(e,[{key:"toJSON",value:function(){var e={};for(var p in this.permissionsById)e[p]=this.permissionsById[p];return e}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var r=Object.keys(this.permissionsById),n=Object.keys(t.permissionsById);if(r.length!==n.length)return!1;for(var u in this.permissionsById){if(!t.permissionsById[u])return!1;if(this.permissionsById[u].read!==t.permissionsById[u].read)return!1;if(this.permissionsById[u].write!==t.permissionsById[u].write)return!1}return!0}},{key:"_setAccess",value:function(e,t,r){if(t instanceof h.default)t=t.id;else if(t instanceof d.default){var n=t.getName();if(!n)throw new TypeError("Role must have a name");t="role:"+n}if("string"!=typeof t)throw new TypeError("userId must be a string.");if("boolean"!=typeof r)throw new TypeError("allowed must be either true or false.");var o=this.permissionsById[t];if(!o){if(!r)return;o={},this.permissionsById[t]=o}r?this.permissionsById[t][e]=!0:(delete o[e],0===Object.keys(o).length&&delete this.permissionsById[t])}},{key:"_getAccess",value:function(e,t){if(t instanceof h.default){if(!(t=t.id))throw new Error("Cannot get access for a ParseUser without an ID")}else if(t instanceof d.default){var r=t.getName();if(!r)throw new TypeError("Role must have a name");t="role:"+r}var n=this.permissionsById[t];return!!n&&!!n[e]}},{key:"setReadAccess",value:function(e,t){this._setAccess("read",e,t)}},{key:"getReadAccess",value:function(e){return this._getAccess("read",e)}},{key:"setWriteAccess",value:function(e,t){this._setAccess("write",e,t)}},{key:"getWriteAccess",value:function(e){return this._getAccess("write",e)}},{key:"setPublicReadAccess",value:function(e){this.setReadAccess("*",e)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess("*")}},{key:"setPublicWriteAccess",value:function(e){this.setWriteAccess("*",e)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess("*")}},{key:"getRoleReadAccess",value:function(e){if(e instanceof d.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+e)}},{key:"getRoleWriteAccess",value:function(e){if(e instanceof d.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+e)}},{key:"setRoleReadAccess",value:function(e,t){if(e instanceof d.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+e,t)}},{key:"setRoleWriteAccess",value:function(e,t){if(e instanceof d.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+e,t)}}]),e}();t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.opFromJSON=function(e){if(!e||!e.__op)return null;switch(e.__op){case"Delete":return new C;case"Increment":return new A(e.amount);case"Add":return new N((0,_.default)(e.objects));case"AddUnique":return new P((0,_.default)(e.objects));case"Remove":return new I((0,_.default)(e.objects));case"AddRelation":var t=(0,_.default)(e.objects);return Array.isArray(t)?new T(t,[]):new T([],[]);case"RemoveRelation":var r=(0,_.default)(e.objects);return Array.isArray(r)?new T([],r):new T([],[]);case"Batch":for(var n=[],o=[],i=0;i<e.ops.length;i++)"AddRelation"===e.ops[i].__op?n=n.concat((0,_.default)(e.ops[i].objects)):"RemoveRelation"===e.ops[i].__op&&(o=o.concat((0,_.default)(e.ops[i].objects)));return new T(n,o)}return null},t.RelationOp=t.RemoveOp=t.AddUniqueOp=t.AddOp=t.IncrementOp=t.UnsetOp=t.SetOp=t.Op=void 0;var o=n(r(23)),l=n(r(16)),c=n(r(70)),f=n(r(24)),d=n(r(11)),h=n(r(5)),v=n(r(9)),y=n(r(121)),_=n(r(37)),m=n(r(30)),w=n(r(6)),k=n(r(26)),O=n(r(122));var S=function(){function e(){(0,h.default)(this,e)}return(0,v.default)(e,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){}},{key:"toJSON",value:function(){}}]),e}();t.Op=S;var E=function(e){function t(e){var r;return(0,h.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(r),"_value",void 0),r._value=e,r}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(){return this._value}},{key:"mergeWith",value:function(){return new t(this._value)}},{key:"toJSON",value:function(){return(0,m.default)(this._value,!1,!0)}}]),t}(S);t.SetOp=E;var C=function(e){function t(){return(0,h.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){return new t}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),t}(S);t.UnsetOp=C;var A=function(e){function t(e){var r;if((0,h.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(r),"_amount",void 0),"number"!=typeof e)throw new TypeError("Increment Op must be initialized with a numeric amount.");return r._amount=e,r}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(e){if(void 0===e)return this._amount;if("number"!=typeof e)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+e}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof E)return new E(this.applyTo(e._value));if(e instanceof C)return new E(this._amount);if(e instanceof t)return new t(this.applyTo(e._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),t}(S);t.IncrementOp=A;var N=function(e){function t(e){var r;return(0,h.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(r),"_value",void 0),r._value=Array.isArray(e)?e:[e],r}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(e){if(null==e)return this._value;if(Array.isArray(e))return e.concat(this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof E)return new E(this.applyTo(e._value));if(e instanceof C)return new E(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,m.default)(this._value,!1,!0)}}}]),t}(S);t.AddOp=N;var P=function(e){function t(e){var r;return(0,h.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(r),"_value",void 0),r._value=(0,O.default)(Array.isArray(e)?e:[e]),r}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(e){if(null==e)return this._value||[];if(Array.isArray(e)){var t=e,r=[];return this._value.forEach(function(e){e instanceof w.default?(0,y.default)(t,e)||r.push(e):t.indexOf(e)<0&&r.push(e)}),e.concat(r)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof E)return new E(this.applyTo(e._value));if(e instanceof C)return new E(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,m.default)(this._value,!1,!0)}}}]),t}(S);t.AddUniqueOp=P;var I=function(e){function t(e){var r;return(0,h.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(r),"_value",void 0),r._value=(0,O.default)(Array.isArray(e)?e:[e]),r}return(0,f.default)(t,e),(0,v.default)(t,[{key:"applyTo",value:function(e){if(null==e)return[];if(Array.isArray(e)){for(var t=e.concat([]),i=0;i<this._value.length;i++){for(var r=t.indexOf(this._value[i]);r>-1;)t.splice(r,1),r=t.indexOf(this._value[i]);if(this._value[i]instanceof w.default&&this._value[i].id)for(var n=0;n<t.length;n++)t[n]instanceof w.default&&this._value[i].id===t[n].id&&(t.splice(n,1),n--)}return t}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof E)return new E(this.applyTo(e._value));if(e instanceof C)return new C;if(e instanceof t){for(var r=e._value.concat([]),i=0;i<this._value.length;i++)this._value[i]instanceof w.default?(0,y.default)(r,this._value[i])||r.push(this._value[i]):r.indexOf(this._value[i])<0&&r.push(this._value[i]);return new t(r)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,m.default)(this._value,!1,!0)}}}]),t}(S);t.RemoveOp=I;var T=function(e){function t(e,r){var n;return(0,h.default)(this,t),n=(0,o.default)(this,(0,l.default)(t).call(this)),(0,d.default)((0,c.default)(n),"_targetClassName",void 0),(0,d.default)((0,c.default)(n),"relationsToAdd",void 0),(0,d.default)((0,c.default)(n),"relationsToRemove",void 0),n._targetClassName=null,Array.isArray(e)&&(n.relationsToAdd=(0,O.default)(e.map(n._extractId,(0,c.default)(n)))),Array.isArray(r)&&(n.relationsToRemove=(0,O.default)(r.map(n._extractId,(0,c.default)(n)))),n}return(0,f.default)(t,e),(0,v.default)(t,[{key:"_extractId",value:function(e){if("string"==typeof e)return e;if(!e.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=e.className),this._targetClassName!==e.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+e.className+".");return e.id}},{key:"applyTo",value:function(e,object,t){if(!e){if(!object||!t)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var r=new w.default(object.className);object.id&&0===object.id.indexOf("local")?r._localId=object.id:object.id&&(r.id=object.id);var n=new k.default(r,t);return n.targetClassName=this._targetClassName,n}if(e instanceof k.default){if(this._targetClassName)if(e.targetClassName){if(this._targetClassName!==e.targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof C)throw new Error("You cannot modify a relation after deleting it.");if(e instanceof E&&e._value instanceof k.default)return this;if(e instanceof t){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var r=e.relationsToAdd.concat([]);this.relationsToRemove.forEach(function(e){var t=r.indexOf(e);t>-1&&r.splice(t,1)}),this.relationsToAdd.forEach(function(e){r.indexOf(e)<0&&r.push(e)});var n=e.relationsToRemove.concat([]);this.relationsToAdd.forEach(function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}),this.relationsToRemove.forEach(function(e){n.indexOf(e)<0&&n.push(e)});var o=new t(r,n);return o._targetClassName=this._targetClassName,o}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var e=this,t=function(t){return{__type:"Pointer",className:e._targetClassName,objectId:t}},r=null,n=null;return this.relationsToAdd.length>0&&(r={__op:"AddRelation",objects:this.relationsToAdd.map(t)}),this.relationsToRemove.length>0&&(n={__op:"RemoveRelation",objects:this.relationsToRemove.map(t)}),r&&n?{__op:"Batch",ops:[r,n]}:r||n||{}}}]),t}(S);t.RelationOp=T},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(54)),c=n(r(55)),f=n(r(5)),d=n(r(9)),h=n(r(11)),v=n(r(7)),y=n(r(30)),_=r(91),m=n(r(20)),w=n(r(31)),k=n(r(6)),O=n(r(192)),S=r(72);function E(s){return"\\Q"+s.replace("\\E","\\E\\\\E\\Q")+"\\E"}function C(e){var t=null;return e.forEach(function(q){if(t||(t=q.className),t!==q.className)throw new Error("All queries must be for the same class.")}),t}function A(data,select){var e={};(select.forEach(function(t){var r=-1!==t.indexOf(".");if(r||data.hasOwnProperty(t)){if(r){var n=t.split("."),o=data,l=e;n.forEach(function(component,e,t){o&&!o.hasOwnProperty(component)&&(o[component]=void 0),void 0!==o&&(o=o[component]),e<t.length-1&&(l[component]||(l[component]={}),l=l[component])})}}else data[t]=void 0}),Object.keys(e).length>0)&&function e(t,r,mask,n){if(n)for(var o in t)t.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=t[o]);for(var l in mask)void 0!==r[l]&&null!==r[l]&&null!=t&&e(t[l],r[l],mask[l],!0)}(v.default.getObjectStateController().getServerData({id:data.objectId,className:data.className}),data,e,!1)}function N(a,b,e){var t=e[0],r="-"===t.slice(0,1);if(r&&(t=t.substring(1)),"_created_at"===t&&(t="createdAt"),"_updated_at"===t&&(t="updatedAt"),!/^[A-Za-z][0-9A-Za-z_]*$/.test(t)||"password"===t)throw new m.default(m.default.INVALID_KEY_NAME,"Invalid Key: ".concat(t));var n=a.get(t),o=b.get(t);return n<o?r?1:-1:n>o?r?-1:1:e.length>1?N(a,b,e.slice(1)):0}var P=function(){function e(t){if((0,f.default)(this,e),(0,h.default)(this,"className",void 0),(0,h.default)(this,"_where",void 0),(0,h.default)(this,"_include",void 0),(0,h.default)(this,"_exclude",void 0),(0,h.default)(this,"_select",void 0),(0,h.default)(this,"_limit",void 0),(0,h.default)(this,"_skip",void 0),(0,h.default)(this,"_order",void 0),(0,h.default)(this,"_readPreference",void 0),(0,h.default)(this,"_includeReadPreference",void 0),(0,h.default)(this,"_subqueryReadPreference",void 0),(0,h.default)(this,"_queriesLocalDatastore",void 0),(0,h.default)(this,"_localDatastorePinName",void 0),(0,h.default)(this,"_extraOptions",void 0),"string"==typeof t)"User"===t&&v.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=t;else if(t instanceof k.default)this.className=t.className;else{if("function"!=typeof t)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"==typeof t.className)this.className=t.className;else{var r=new t;this.className=r.className}}this._where={},this._include=[],this._exclude=[],this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={}}var t,r;return(0,d.default)(e,[{key:"_orQuery",value:function(e){var t=e.map(function(q){return q.toJSON().where});return this._where.$or=t,this}},{key:"_andQuery",value:function(e){var t=e.map(function(q){return q.toJSON().where});return this._where.$and=t,this}},{key:"_norQuery",value:function(e){var t=e.map(function(q){return q.toJSON().where});return this._where.$nor=t,this}},{key:"_addCondition",value:function(e,t,r){return this._where[e]&&"string"!=typeof this._where[e]||(this._where[e]={}),this._where[e][t]=(0,y.default)(r,!1,!0),this}},{key:"_regexStartWith",value:function(e){return"^"+E(e)}},{key:"_handleOfflineQuery",value:(r=(0,c.default)(l.default.mark(function e(t){var r,n,o,c,f,d,h,y=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O.default.validateQuery(this),r=v.default.getLocalDatastore(),e.next=4,r._serializeObjectsFromPinName(this._localDatastorePinName);case 4:return n=e.sent,o=n.map(function(e,t,r){var object=k.default.fromJSON(e,!1);return e._localId&&!e.objectId&&(object._localId=e._localId),O.default.matchesQuery(y.className,object,r,y)?object:null}).filter(function(object){return null!==object}),t.keys&&(c=t.keys.split(","),f=["className","objectId","createdAt","updatedAt","ACL"],c=c.concat(f),o=o.map(function(object){var e=object._toFullJSON();return Object.keys(e).forEach(function(t){c.includes(t)||delete e[t]}),k.default.fromJSON(e,!1)})),t.order&&(d=t.order.split(","),o.sort(function(a,b){return N(a,b,d)})),t.skip&&(o=t.skip>=o.length?[]:o.splice(t.skip,o.length)),h=o.length,0!==t.limit&&t.limit<o.length&&(h=t.limit),o=o.splice(0,h),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"toJSON",value:function(){var e={where:this._where};for(var t in this._include.length&&(e.include=this._include.join(",")),this._exclude.length&&(e.excludeKeys=this._exclude.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),this._order&&(e.order=this._order.join(",")),this._readPreference&&(e.readPreference=this._readPreference),this._includeReadPreference&&(e.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(e.subqueryReadPreference=this._subqueryReadPreference),this._extraOptions)e[t]=this._extraOptions[t];return e}},{key:"withJSON",value:function(e){for(var t in e.where&&(this._where=e.where),e.include&&(this._include=e.include.split(",")),e.keys&&(this._select=e.keys.split(",")),e.excludeKeys&&(this._exclude=e.excludeKeys.split(",")),e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.order&&(this._order=e.order.split(",")),e.readPreference&&(this._readPreference=e.readPreference),e.includeReadPreference&&(this._includeReadPreference=e.includeReadPreference),e.subqueryReadPreference&&(this._subqueryReadPreference=e.subqueryReadPreference),e)e.hasOwnProperty(t)&&-1===["where","include","keys","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference"].indexOf(t)&&(this._extraOptions[t]=e[t]);return this}},{key:"get",value:function(e,t){this.equalTo("objectId",e);var r={};return t&&t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t&&t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),this.first(r).then(function(e){if(e)return e;var t=new m.default(m.default.OBJECT_NOT_FOUND,"Object not found.");return Promise.reject(t)})}},{key:"find",value:function(e){var t=this,r={};(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken);var n=v.default.getQueryController(),select=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):n.find(this.className,this.toJSON(),r).then(function(e){return e.results.map(function(data){var r=e.className||t.className;return data.className||(data.className=r),select&&A(data,select),k.default.fromJSON(data,!select)})})}},{key:"count",value:function(e){var t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken);var r=v.default.getQueryController(),n=this.toJSON();return n.limit=0,n.count=1,r.find(this.className,n,t).then(function(e){return e.count})}},{key:"distinct",value:function(e,t){var r={useMasterKey:!0};(t=t||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken);var n=v.default.getQueryController(),o={distinct:e,where:this._where};return n.aggregate(this.className,o,r).then(function(e){return e.results})}},{key:"aggregate",value:function(e,t){var r={useMasterKey:!0};(t=t||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken);var n=v.default.getQueryController();if(!Array.isArray(e)&&"object"!==(0,o.default)(e))throw new Error("Invalid pipeline must be Array or Object");return n.aggregate(this.className,{pipeline:e},r).then(function(e){return e.results})}},{key:"first",value:function(e){var t=this,r={};(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken);var n=v.default.getQueryController(),o=this.toJSON();o.limit=1;var select=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(o).then(function(e){if(e[0])return e[0]}):n.find(this.className,o,r).then(function(e){var r=e.results;if(r[0])return r[0].className||(r[0].className=t.className),select&&A(r[0],select),k.default.fromJSON(r[0],!select)})}},{key:"each",value:function(t,r){if(r=r||{},this._order||this._skip||this._limit>=0)return Promise.reject("Cannot iterate on a query with sort, skip, or limit.");var n=new e(this.className);for(var l in n._limit=r.batchSize||100,n._include=this._include.map(function(i){return i}),this._select&&(n._select=this._select.map(function(s){return s})),n._where={},this._where){var c=this._where[l];if(Array.isArray(c))n._where[l]=c.map(function(e){return e});else if(c&&"object"===(0,o.default)(c)){var f={};for(var d in n._where[l]=f,c)f[d]=c[d]}else n._where[l]=c}n.ascending("objectId");var h={};r.hasOwnProperty("useMasterKey")&&(h.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(h.sessionToken=r.sessionToken);var v=!1;return(0,_.continueWhile)(function(){return!v},function(){return n.find(h).then(function(e){var r=Promise.resolve();return e.forEach(function(e){r=r.then(function(){return t(e)})}),r.then(function(){e.length>=n._limit?n.greaterThan("objectId",e[e.length-1].id):v=!0})})})}},{key:"equalTo",value:function(e,t){return void 0===t?this.doesNotExist(e):(this._where[e]=(0,y.default)(t,!1,!0),this)}},{key:"notEqualTo",value:function(e,t){return this._addCondition(e,"$ne",t)}},{key:"lessThan",value:function(e,t){return this._addCondition(e,"$lt",t)}},{key:"greaterThan",value:function(e,t){return this._addCondition(e,"$gt",t)}},{key:"lessThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$lte",t)}},{key:"greaterThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$gte",t)}},{key:"containedIn",value:function(e,t){return this._addCondition(e,"$in",t)}},{key:"notContainedIn",value:function(e,t){return this._addCondition(e,"$nin",t)}},{key:"containedBy",value:function(e,t){return this._addCondition(e,"$containedBy",t)}},{key:"containsAll",value:function(e,t){return this._addCondition(e,"$all",t)}},{key:"containsAllStartingWith",value:function(e,t){var r=this;Array.isArray(t)||(t=[t]);var n=t.map(function(e){return{$regex:r._regexStartWith(e)}});return this.containsAll(e,n)}},{key:"exists",value:function(e){return this._addCondition(e,"$exists",!0)}},{key:"doesNotExist",value:function(e){return this._addCondition(e,"$exists",!1)}},{key:"matches",value:function(e,t,r){return this._addCondition(e,"$regex",t),r||(r=""),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),r.length&&this._addCondition(e,"$options",r),this}},{key:"matchesQuery",value:function(e,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$inQuery",r)}},{key:"doesNotMatchQuery",value:function(e,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$notInQuery",r)}},{key:"matchesKeyInQuery",value:function(e,t,r){var n=r.toJSON();return n.className=r.className,this._addCondition(e,"$select",{key:t,query:n})}},{key:"doesNotMatchKeyInQuery",value:function(e,t,r){var n=r.toJSON();return n.className=r.className,this._addCondition(e,"$dontSelect",{key:t,query:n})}},{key:"contains",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",E(t))}},{key:"fullText",value:function(e,t,r){if(r=r||{},!e)throw new Error("A key is required.");if(!t)throw new Error("A search term is required");if("string"!=typeof t)throw new Error("The value being searched for must be a string.");var n={};for(var option in n.$term=t,r)switch(option){case"language":n.$language=r[option];break;case"caseSensitive":n.$caseSensitive=r[option];break;case"diacriticSensitive":n.$diacriticSensitive=r[option];break;default:throw new Error("Unknown option: ".concat(option))}return this._addCondition(e,"$text",{$search:n})}},{key:"sortByTextScore",value:function(){return this.ascending("$score"),this.select(["$score"]),this}},{key:"startsWith",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",this._regexStartWith(t))}},{key:"endsWith",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",E(t)+"$")}},{key:"near",value:function(e,t){return t instanceof w.default||(t=new w.default(t)),this._addCondition(e,"$nearSphere",t)}},{key:"withinRadians",value:function(e,t,r,n){return n||void 0===n?(this.near(e,t),this._addCondition(e,"$maxDistance",r)):this._addCondition(e,"$geoWithin",{$centerSphere:[[t.longitude,t.latitude],r]})}},{key:"withinMiles",value:function(e,t,r,n){return this.withinRadians(e,t,r/3958.8,n)}},{key:"withinKilometers",value:function(e,t,r,n){return this.withinRadians(e,t,r/6371,n)}},{key:"withinGeoBox",value:function(e,t,r){return t instanceof w.default||(t=new w.default(t)),r instanceof w.default||(r=new w.default(r)),this._addCondition(e,"$within",{$box:[t,r]}),this}},{key:"withinPolygon",value:function(e,t){return this._addCondition(e,"$geoWithin",{$polygon:t})}},{key:"polygonContains",value:function(e,t){return this._addCondition(e,"$geoIntersects",{$point:t})}},{key:"ascending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.addAscending.apply(this,t)}},{key:"addAscending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)&&(t=t.join()),e._order=e._order.concat(t.replace(/\s/g,"").split(","))}),this}},{key:"descending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.addDescending.apply(this,t)}},{key:"addDescending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)&&(t=t.join()),e._order=e._order.concat(t.replace(/\s/g,"").split(",").map(function(e){return"-"+e}))}),this}},{key:"skip",value:function(e){if("number"!=typeof e||e<0)throw new Error("You can only skip by a positive number");return this._skip=e,this}},{key:"limit",value:function(e){if("number"!=typeof e)throw new Error("You can only set the limit to a numeric value");return this._limit=e,this}},{key:"include",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this}},{key:"includeAll",value:function(){return this.include("*")}},{key:"select",value:function(){var e=this;this._select||(this._select=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this}},{key:"exclude",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)?e._exclude=e._exclude.concat(t):e._exclude.push(t)}),this}},{key:"readPreference",value:function(e,t,r){return this._readPreference=e,this._includeReadPreference=t,this._subqueryReadPreference=r,this}},{key:"subscribe",value:(t=(0,c.default)(l.default.mark(function e(t){var r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getUserController().currentUserAsync();case 2:return r=e.sent,t||(t=r?r.getSessionToken():void 0),e.next=6,v.default.getLiveQueryController().getDefaultLiveQueryClient();case 6:return(n=e.sent).shouldOpen()&&n.open(),o=n.subscribe(this,t),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"fromLocalDatastore",value:function(){return this.fromPinWithName(null)}},{key:"fromPin",value:function(){return this.fromPinWithName(S.DEFAULT_PIN)}},{key:"fromPinWithName",value:function(e){return v.default.getLocalDatastore().checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=e),this}}],[{key:"fromJSON",value:function(t,r){return new e(t).withJSON(r)}},{key:"or",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=C(r),l=new e(o);return l._orQuery(r),l}},{key:"and",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=C(r),l=new e(o);return l._andQuery(r),l}},{key:"nor",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=C(r),l=new e(o);return l._norQuery(r),l}}]),e}(),I={find:function(e,t,r){return v.default.getRESTController().request("GET","classes/"+e,t,r)},aggregate:function(e,t,r){return v.default.getRESTController().request("GET","aggregate/"+e,t,r)}};v.default.setQueryController(I);var T=P;t.default=T},,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(23)),d=n(r(16)),h=n(r(120)),v=n(r(24)),y=n(r(126)),_=n(r(7)),m=n(r(127)),w=n(r(20)),k=n(r(6)),O=n(r(128)),S=n(r(73)),E=!_.default.get("IS_NODE"),C=!1,A=null,N={},P=function(e){function t(e){var r;if((0,l.default)(this,t),r=(0,f.default)(this,(0,d.default)(t).call(this,"_User")),e&&"object"===(0,o.default)(e)&&!r.set(e||{}))throw new Error("Can't create an invalid Parse User");return r}return(0,v.default)(t,e),(0,c.default)(t,[{key:"_upgradeToRevocableSession",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),_.default.getUserController().upgradeToRevocableSession(this,t)}},{key:"_linkWith",value:function(e,t){var r,n=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l.sessionToken=l.sessionToken||this.getSessionToken()||"","string"==typeof e)if(r=e,N[e])e=N[e];else{var c={restoreAuthentication:function(){return!0},getAuthType:function(){return r}};N[r]=c,e=c}else r=e.getAuthType();if(t&&t.hasOwnProperty("authData")){var f=this.get("authData")||{};if("object"!==(0,o.default)(f))throw new Error("Invalid type: authData field should be an object");f[r]=t.authData;var d=_.default.getUserController();return d.linkWith(this,f,l)}return new Promise(function(t,r){e.authenticate({success:function(e,o){var c={};c.authData=o,n._linkWith(e,c,l).then(function(){t(n)},function(e){r(e)})},error:function(e,t){r(t)}})})}},{key:"_synchronizeAuthData",value:function(e){if(this.isCurrent()&&e){var t;"string"==typeof e?e=N[t=e]:t=e.getAuthType();var r=this.get("authData");if(e&&r&&"object"===(0,o.default)(r))e.restoreAuthentication(r[t])||this._unlinkFrom(e)}}},{key:"_synchronizeAllAuthData",value:function(){var e=this.get("authData");if("object"===(0,o.default)(e))for(var t in e)this._synchronizeAuthData(t)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var e=this.get("authData");if("object"===(0,o.default)(e))for(var t in e)e[t]||delete e[t]}}},{key:"_unlinkFrom",value:function(e,t){var r=this;return"string"==typeof e&&(e=N[e]),this._linkWith(e,{authData:null},t).then(function(){return r._synchronizeAuthData(e),Promise.resolve(r)})}},{key:"_isLinked",value:function(e){var t;t="string"==typeof e?e:e.getAuthType();var r=this.get("authData")||{};return"object"===(0,o.default)(r)&&!!r[t]}},{key:"_logOutWithAll",value:function(){var e=this.get("authData");if("object"===(0,o.default)(e))for(var t in e)this._logOutWith(t)}},{key:"_logOutWith",value:function(e){this.isCurrent()&&("string"==typeof e&&(e=N[e]),e&&e.deauthenticate&&e.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var e=t.current();return!!e&&e.id===this.id}},{key:"getUsername",value:function(){var e=this.get("username");return null==e||"string"==typeof e?e:""}},{key:"setUsername",value:function(e){var t=this.get("authData");t&&"object"===(0,o.default)(t)&&t.hasOwnProperty("anonymous")&&(t.anonymous=null),this.set("username",e)}},{key:"setPassword",value:function(e){this.set("password",e)}},{key:"getEmail",value:function(){var e=this.get("email");return null==e||"string"==typeof e?e:""}},{key:"setEmail",value:function(e){return this.set("email",e)}},{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return null==e||"string"==typeof e?e:""}},{key:"authenticated",value:function(){var e=t.current();return!!this.get("sessionToken")&&!!e&&e.id===this.id}},{key:"signUp",value:function(e,t){var r={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(r.installationId=t.installationId),_.default.getUserController().signUp(this,e,r)}},{key:"logIn",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(t.installationId=e.installationId),_.default.getUserController().logIn(this,t)}},{key:"save",value:function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(0,h.default)((0,d.default)(t.prototype),"save",this).apply(this,n).then(function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e})}},{key:"destroy",value:function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(0,h.default)((0,d.default)(t.prototype),"destroy",this).apply(this,n).then(function(){return e.isCurrent()?_.default.getUserController().removeUserFromDisk():e})}},{key:"fetch",value:function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(0,h.default)((0,d.default)(t.prototype),"fetch",this).apply(this,n).then(function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e})}},{key:"fetchWithInclude",value:function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(0,h.default)((0,d.default)(t.prototype),"fetchWithInclude",this).apply(this,n).then(function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e})}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(e,r){if(e)for(var n in e)"className"!==n&&Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1,writable:!0,configurable:!0});if(r)for(var o in r)"className"!==o&&Object.defineProperty(t,o,{value:r[o],enumerable:!1,writable:!0,configurable:!0});return t}},{key:"current",value:function(){return E?_.default.getUserController().currentUser():null}},{key:"currentAsync",value:function(){return E?_.default.getUserController().currentUserAsync():Promise.resolve(null)}},{key:"signUp",value:function(e,t,r,n){return(r=r||{}).username=e,r.password=t,new this(r).signUp({},n)}},{key:"logIn",value:function(e,t,r){if("string"!=typeof e)return Promise.reject(new w.default(w.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof t)return Promise.reject(new w.default(w.default.OTHER_CAUSE,"Password must be a string."));var n=new this;return n._finishFetch({username:e,password:t}),n.logIn(r)}},{key:"become",value:function(e,t){if(!E)throw new Error("It is not memory-safe to become a user in a server environment");var r={sessionToken:e};return(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),_.default.getUserController().become(r)}},{key:"me",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=_.default.getUserController(),n={sessionToken:e};return t.useMasterKey&&(n.useMasterKey=t.useMasterKey),r.me(n)}},{key:"hydrate",value:function(e){return _.default.getUserController().hydrate(e)}},{key:"logInWith",value:function(e,r,n){return t._logInWith(e,r,n)}},{key:"logOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_.default.getUserController();return t.logOut(e)}},{key:"requestPasswordReset",value:function(e,t){var r={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),_.default.getUserController().requestPasswordReset(e,r)}},{key:"allowCustomUserClass",value:function(e){_.default.set("PERFORM_USER_REWRITE",!e)}},{key:"enableRevocableSession",value:function(e){if(e=e||{},_.default.set("FORCE_REVOCABLE_SESSION",!0),E){var r=t.current();if(r)return r._upgradeToRevocableSession(e)}return Promise.resolve()}},{key:"enableUnsafeCurrentUser",value:function(){E=!0}},{key:"disableUnsafeCurrentUser",value:function(){E=!1}},{key:"_registerAuthenticationProvider",value:function(e){N[e.getAuthType()]=e,t.currentAsync().then(function(t){t&&t._synchronizeAuthData(e.getAuthType())})}},{key:"_logInWith",value:function(e,r,n){return(new t)._linkWith(e,r,n)}},{key:"_clearCache",value:function(){A=null,C=!1}},{key:"_setCurrentUserCache",value:function(e){A=e}}]),t}(k.default);k.default.registerSubclass("_User",P);var I={updateUserOnDisk:function(e){var path=S.default.generatePath("currentUser"),t=e.toJSON();return t.className="_User",S.default.setItemAsync(path,JSON.stringify(t)).then(function(){return e})},removeUserFromDisk:function(){var path=S.default.generatePath("currentUser");return C=!0,A=null,S.default.removeItemAsync(path)},setCurrentUser:function(e){var t=this.currentUser(),r=Promise.resolve();return t&&!e.equals(t)&&y.default.isLinked(t)&&(r=t.destroy({sessionToken:t.getSessionToken()})),A=e,e._cleanupAuthData(),e._synchronizeAllAuthData(),r.then(function(){return I.updateUserOnDisk(e)})},currentUser:function(){if(A)return A;if(C)return null;if(S.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var path=S.default.generatePath("currentUser"),e=S.default.getItem(path);if(C=!0,!e)return A=null,null;(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var t=k.default.fromJSON(e);return A=t,t._synchronizeAllAuthData(),t},currentUserAsync:function(){if(A)return Promise.resolve(A);if(C)return Promise.resolve(null);var path=S.default.generatePath("currentUser");return S.default.getItemAsync(path).then(function(e){if(C=!0,!e)return A=null,Promise.resolve(null);(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var t=k.default.fromJSON(e);return A=t,t._synchronizeAllAuthData(),Promise.resolve(t)})},signUp:function(e,t,r){var n=t&&t.username||e.get("username"),o=t&&t.password||e.get("password");return n&&n.length?o&&o.length?e.save(t,r).then(function(){return e._finishFetch({password:void 0}),E?I.setCurrentUser(e):e}):Promise.reject(new w.default(w.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):Promise.reject(new w.default(w.default.OTHER_CAUSE,"Cannot sign up user with an empty name."))},logIn:function(e,t){var r=_.default.getRESTController(),n=_.default.getObjectStateController(),o={username:e.get("username"),password:e.get("password")};return r.request("GET","login",o,t).then(function(t){return e._migrateId(t.objectId),e._setExisted(!0),n.setPendingOp(e._getStateIdentifier(),"username",void 0),n.setPendingOp(e._getStateIdentifier(),"password",void 0),t.password=void 0,e._finishFetch(t),E?I.setCurrentUser(e):Promise.resolve(e)})},become:function(e){var t=new P;return _.default.getRESTController().request("GET","users/me",{},e).then(function(e){return t._finishFetch(e),t._setExisted(!0),I.setCurrentUser(t)})},hydrate:function(e){var t=new P;return t._finishFetch(e),t._setExisted(!0),e.sessionToken&&E?I.setCurrentUser(t):Promise.resolve(t)},me:function(e){return _.default.getRESTController().request("GET","users/me",{},e).then(function(e){var t=new P;return t._finishFetch(e),t._setExisted(!0),t})},logOut:function(e){var t=_.default.getRESTController();return e.sessionToken?t.request("POST","logout",{},e):I.currentUserAsync().then(function(e){var path=S.default.generatePath("currentUser"),r=S.default.removeItemAsync(path);if(null!==e){var n=y.default.isLinked(e),o=e.getSessionToken();o&&(0,m.default)(o)&&(r=r.then(function(){if(n)return e.destroy({sessionToken:o})}).then(function(){return t.request("POST","logout",{},{sessionToken:o})})),e._logOutWithAll(),e._finishFetch({sessionToken:void 0})}return C=!0,A=null,r})},requestPasswordReset:function(e,t){return _.default.getRESTController().request("POST","requestPasswordReset",{email:e},t)},upgradeToRevocableSession:function(e,t){var r=e.getSessionToken();return r?(t.sessionToken=r,_.default.getRESTController().request("POST","upgradeToRevocableSession",{},t).then(function(t){var r=new O.default;return r._finishFetch(t),e._finishFetch({sessionToken:r.getSessionToken()}),e.isCurrent()?I.setCurrentUser(e):Promise.resolve(e)})):Promise.reject(new w.default(w.default.SESSION_MISSING,"Cannot upgrade a user with no session token"))},linkWith:function(e,t,r){return e.save({authData:t},r).then(function(){return E?I.setCurrentUser(e):e})}};_.default.setUserController(I);var T=P;t.default=T},,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(11)),f=n(r(31)),d=function(){function e(t){(0,o.default)(this,e),(0,c.default)(this,"_coordinates",void 0),this._coordinates=e._validate(t)}return(0,l.default)(e,[{key:"toJSON",value:function(){return e._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}},{key:"equals",value:function(t){if(!(t instanceof e)||this.coordinates.length!==t.coordinates.length)return!1;for(var r=!0,i=1;i<this._coordinates.length;i+=1)if(this._coordinates[i][0]!=t.coordinates[i][0]||this._coordinates[i][1]!=t.coordinates[i][1]){r=!1;break}return r}},{key:"containsPoint",value:function(e){for(var t=this._coordinates[0][0],r=this._coordinates[0][0],n=this._coordinates[0][1],o=this._coordinates[0][1],i=1;i<this._coordinates.length;i+=1){var p=this._coordinates[i];t=Math.min(p[0],t),r=Math.max(p[0],r),n=Math.min(p[1],n),o=Math.max(p[1],o)}if(e.latitude<t||e.latitude>r||e.longitude<n||e.longitude>o)return!1;for(var l=!1,c=0,f=this._coordinates.length-1;c<this._coordinates.length;f=c++){var d=this._coordinates[c][0],h=this._coordinates[c][1],v=this._coordinates[f][0],y=this._coordinates[f][1];h>e.longitude!=y>e.longitude&&e.latitude<(v-d)*(e.longitude-h)/(y-h)+d&&(l=!l)}return l}},{key:"coordinates",get:function(){return this._coordinates},set:function(t){this._coordinates=e._validate(t)}}],[{key:"_validate",value:function(e){if(!Array.isArray(e))throw new TypeError("Coordinates must be an Array");if(e.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");for(var t=[],i=0;i<e.length;i+=1){var r=e[i],n=void 0;if(r instanceof f.default)n=r;else{if(!Array.isArray(r)||2!==r.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");n=new f.default(r[0],r[1])}t.push([n.latitude,n.longitude])}return t}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalDatastoreKey=function(e){return!(!e||e!==n&&!e.startsWith(o)&&!e.startsWith(l))},t.OBJECT_PREFIX=t.PIN_PREFIX=t.DEFAULT_PIN=void 0;var n="_default";t.DEFAULT_PIN=n;var o="parsePin_";t.PIN_PREFIX=o;var l="Parse_LDS_";t.OBJECT_PREFIX=l},function(e,t,r){"use strict";var n=r(0)(r(7)),o={async:function(){return!!n.default.getStorageController().async},getItem:function(path){var e=n.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.getItem(path)},getItemAsync:function(path){var e=n.default.getStorageController();return 1===e.async?e.getItemAsync(path):Promise.resolve(e.getItem(path))},setItem:function(path,e){var t=n.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.setItem(path,e)},setItemAsync:function(path,e){var t=n.default.getStorageController();return 1===t.async?t.setItemAsync(path,e):Promise.resolve(t.setItem(path,e))},removeItem:function(path){var e=n.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.removeItem(path)},removeItemAsync:function(path){var e=n.default.getStorageController();return 1===e.async?e.removeItemAsync(path):Promise.resolve(e.removeItem(path))},generatePath:function(path){if(!n.default.get("APPLICATION_ID"))throw new Error("You need to call Parse.initialize before using Parse.");if("string"!=typeof path)throw new Error("Tried to get a Storage path that was not a String.");return"/"===path[0]&&(path=path.substr(1)),"Parse/"+n.default.get("APPLICATION_ID")+"/"+path},_clear:function(){var e=n.default.getStorageController();e.hasOwnProperty("clear")&&e.clear()}};e.exports=o,n.default.setStorageController(r(201))},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(){var e,t,r=new Promise(function(r,n){e=r,t=n});return r.resolve=e,r.reject=t,r}Object.defineProperty(t,"__esModule",{value:!0}),t.resolvingPromise=n,t.when=function(e){var t,r=Array.isArray(e);t=r?e:arguments;var o=t.length,l=!1,c=[],f=r?[c]:c,d=[];if(c.length=t.length,d.length=t.length,0===o)return Promise.resolve(f);for(var h=new n,v=function(){--o<=0&&(l?h.reject(d):h.resolve(f))},y=function(object,e){object&&"function"==typeof object.then?object.then(function(t){c[e]=t,v()},function(t){d[e]=t,l=!0,v()}):(c[e]=object,v())},i=0;i<t.length;i++)y(t[i],i);return h},t.continueWhile=function e(t,r){if(t())return r().then(function(){return e(t,r)});return Promise.resolve()}},function(e,t,r){"use strict";e.exports=r(222).EventEmitter},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var content=function(e,t){var content=e[1]||"",r=e[3];if(!r)return content;if(t&&"function"==typeof btoa){var n=(l=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),o=r.sources.map(function(source){return"/*# sourceURL="+r.sourceRoot+source+" */"});return[content].concat(o).concat([n]).join("\n")}var l;return[content].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+content+"}":content}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(i=0;i<e.length;i++){var l=e[i];null!=l[0]&&n[l[0]]||(r&&!l[2]?l[2]=r:r&&(l[2]="("+l[2]+") and ("+r+")"),t.push(l))}},t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(23)),f=n(r(16)),d=n(r(120)),h=n(r(24)),v=n(r(38)),y=n(r(20)),_=n(r(6)),m=function(e){function t(e,r){var n;return(0,o.default)(this,t),n=(0,c.default)(this,(0,f.default)(t).call(this,"_Role")),"string"==typeof e&&r instanceof v.default&&(n.setName(e),n.setACL(r)),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getName",value:function(){var e=this.get("name");return null==e||"string"==typeof e?e:""}},{key:"setName",value:function(e,t){return this.set("name",e,t)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(e,r){var n=(0,d.default)((0,f.default)(t.prototype),"validate",this).call(this,e,r);if(n)return n;if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new y.default(y.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof o)return new y.default(y.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new y.default(y.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),t}(_.default);_.default.registerSubclass("_Role",m);var w=m;t.default=w},,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,object){if(e.indexOf(object)>-1)return!0;for(var i=0;i<e.length;i++)if(e[i]instanceof o.default&&e[i].className===object.className&&e[i]._getId()===object._getId())return!0;return!1};var o=n(r(6))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return e.forEach(function(e){e instanceof l.default?(0,o.default)(t,e)||t.push(e):t.indexOf(e)<0&&t.push(e)}),t};var o=n(r(121)),l=n(r(6))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/[&<>\/'"]/g,function(e){return n[e]})};var n={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=function(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new h.default,existed:!1}},t.setServerData=function(e,t){for(var r in t)void 0!==t[r]?e[r]=t[r]:delete e[r]},t.setPendingOp=function(e,t,r){var n=e.length-1;r?e[n][t]=r:delete e[n][t]},t.pushPendingState=function(e){e.push({})},t.popPendingState=y,t.mergeFirstPendingState=function(e){var t=y(e),r=e[0];for(var n in t)if(r[n]&&t[n]){var o=r[n].mergeWith(t[n]);o&&(r[n]=o)}else r[n]=t[n]},t.estimateAttribute=function(e,t,r,n,o){for(var l=e[o],i=0;i<t.length;i++)t[i][o]&&(t[i][o]instanceof v.RelationOp?n&&(l=t[i][o].applyTo(l,{className:r,id:n},o)):l=t[i][o].applyTo(l));return l},t.estimateAttributes=function(e,t,r,n){var data={};for(var o in e)data[o]=e[o];for(var i=0;i<t.length;i++)for(o in t[i])if(t[i][o]instanceof v.RelationOp)n&&(data[o]=t[i][o].applyTo(data[o],{className:r,id:n},o));else if(o.includes(".")){for(var l=o.split("."),c=l[l.length-1],object=Object.assign({},data),f=0;f<l.length-1;f++)object=object[l[f]];object[c]=t[i][o].applyTo(object[c])}else data[o]=t[i][o].applyTo(data[o]);return data},t.commitServerChanges=function(e,t,r){for(var n in r){var h=r[n];if(e[n]=h,h&&"object"===(0,o.default)(h)&&!(h instanceof f.default)&&!(h instanceof c.default)&&!(h instanceof d.default)){var v=(0,l.default)(h,!1,!0);t[n]=JSON.stringify(v)}}};var o=n(r(3)),l=n(r(30)),c=n(r(25)),f=n(r(6)),d=n(r(26)),h=n(r(125)),v=r(39);function y(e){var t=e.shift();return e.length||(e[0]={}),t}},function(e,t,r){"use strict";var n=r(0),o=n(r(5)),l=n(r(9)),c=n(r(11)),f=function(){function e(){(0,o.default)(this,e),(0,c.default)(this,"queue",void 0),this.queue=[]}return(0,l.default)(e,[{key:"enqueue",value:function(e){var t,r,n=this,o=new Promise(function(e,n){t=e,r=n});return o.resolve=t,o.reject=r,this.queue.push({task:e,_completion:o}),1===this.queue.length&&e().then(function(){n._dequeue(),o.resolve()},function(e){n._dequeue(),o.reject(e)}),o}},{key:"_dequeue",value:function(){var e=this;if(this.queue.shift(),this.queue.length){var t=this.queue[0];t.task().then(function(){e._dequeue(),t._completion.resolve()},function(r){e._dequeue(),t._completion.reject(r)})}}}]),e}();e.exports=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(56)),l=r(198),c=!1,f={isLinked:function(e){var t=this._getAuthProvider();return e._isLinked(t.getAuthType())},logIn:function(e){var t=this._getAuthProvider();return o.default._logInWith(t.getAuthType(),t.getAuthData(),e)},link:function(e,t){var r=this._getAuthProvider();return e._linkWith(r.getAuthType(),r.getAuthData(),t)},_getAuthProvider:function(){var e={restoreAuthentication:function(){return!0},getAuthType:function(){return"anonymous"},getAuthData:function(){return{authData:{id:l()}}}};return c||(o.default._registerAuthenticationProvider(e),c=!0),e}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.indexOf("r:")>-1}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(23)),d=n(r(16)),h=n(r(24)),v=n(r(7)),y=n(r(127)),_=n(r(6)),m=n(r(56)),w=function(e){function t(e){var r;if((0,l.default)(this,t),r=(0,f.default)(this,(0,d.default)(t).call(this,"_Session")),e&&"object"===(0,o.default)(e)&&!r.set(e||{}))throw new Error("Can't create an invalid Session");return r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return"string"==typeof e?e:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(e){e=e||{};var t=v.default.getSessionController(),r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),m.default.currentAsync().then(function(e){return e?(r.sessionToken=e.getSessionToken(),t.getSession(r)):Promise.reject("There is no current user.")})}},{key:"isCurrentSessionRevocable",value:function(){var e=m.default.current();return!!e&&(0,y.default)(e.getSessionToken()||"")}}]),t}(_.default);_.default.registerSubclass("_Session",w);var k={getSession:function(e){var t=v.default.getRESTController(),r=new w;return t.request("GET","sessions/me",{},e).then(function(e){return r._finishFetch(e),r._setExisted(!0),r})}};v.default.setSessionController(k);var O=w;t.default=O},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(23)),d=n(r(16)),h=n(r(70)),v=n(r(24)),y=n(r(11)),_=n(r(7)),m=n(r(92)),w=n(r(6)),k=n(r(223)),O=r(91),S={INITIALIZED:"initialized",CONNECTING:"connecting",CONNECTED:"connected",CLOSED:"closed",RECONNECTING:"reconnecting",DISCONNECTED:"disconnected"},E="connect",C="subscribe",A="unsubscribe",N="connected",P="subscribed",I="unsubscribed",T="error",R="close",j="error",x="open",D="open",L="close",U="error",M=function(e){function t(e){var r,n=e.applicationId,o=e.serverURL,c=e.javascriptKey,v=e.masterKey,_=e.sessionToken;if((0,l.default)(this,t),r=(0,f.default)(this,(0,d.default)(t).call(this)),(0,y.default)((0,h.default)(r),"attempts",void 0),(0,y.default)((0,h.default)(r),"id",void 0),(0,y.default)((0,h.default)(r),"requestId",void 0),(0,y.default)((0,h.default)(r),"applicationId",void 0),(0,y.default)((0,h.default)(r),"serverURL",void 0),(0,y.default)((0,h.default)(r),"javascriptKey",void 0),(0,y.default)((0,h.default)(r),"masterKey",void 0),(0,y.default)((0,h.default)(r),"sessionToken",void 0),(0,y.default)((0,h.default)(r),"connectPromise",void 0),(0,y.default)((0,h.default)(r),"subscriptions",void 0),(0,y.default)((0,h.default)(r),"socket",void 0),(0,y.default)((0,h.default)(r),"state",void 0),!o||0!==o.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");return r.reconnectHandle=null,r.attempts=1,r.id=0,r.requestId=1,r.serverURL=o,r.applicationId=n,r.javascriptKey=c,r.masterKey=v,r.sessionToken=_,r.connectPromise=(0,O.resolvingPromise)(),r.subscriptions=new Map,r.state=S.INITIALIZED,r}return(0,v.default)(t,e),(0,c.default)(t,[{key:"shouldOpen",value:function(){return this.state===S.INITIALIZED||this.state===S.DISCONNECTED}},{key:"subscribe",value:function(e,t){var r=this;if(e){var n=e.className,o=e.toJSON(),l=o.where,c=o.keys?o.keys.split(","):void 0,f={op:C,requestId:this.requestId,query:{className:n,where:l,fields:c}};t&&(f.sessionToken=t);var d=new k.default(this.requestId,e,t);return this.subscriptions.set(this.requestId,d),this.requestId+=1,this.connectPromise.then(function(){r.socket.send(JSON.stringify(f))}),d}}},{key:"unsubscribe",value:function(e){var t=this;if(e){this.subscriptions.delete(e.id);var r={op:A,requestId:e.id};this.connectPromise.then(function(){t.socket.send(JSON.stringify(r))})}}},{key:"open",value:function(){var e=this,t=this._getWebSocketImplementation();t?(this.state!==S.RECONNECTING&&(this.state=S.CONNECTING),this.socket=new t(this.serverURL),this.socket.onopen=function(){e._handleWebSocketOpen()},this.socket.onmessage=function(t){e._handleWebSocketMessage(t)},this.socket.onclose=function(){e._handleWebSocketClose()},this.socket.onerror=function(t){e._handleWebSocketError(t)}):this.emit(j,"Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var e=this;this.subscriptions.forEach(function(t,r){var n=t.query,o=n.toJSON(),l=o.where,c=o.keys?o.keys.split(","):void 0,f=n.className,d=t.sessionToken,h={op:C,requestId:r,query:{className:f,where:l,fields:c}};d&&(h.sessionToken=d),e.connectPromise.then(function(){e.socket.send(JSON.stringify(h))})})}},{key:"close",value:function(){if(this.state!==S.INITIALIZED&&this.state!==S.DISCONNECTED){this.state=S.DISCONNECTED,this.socket.close();var e=!0,t=!1,r=void 0;try{for(var n,o=this.subscriptions.values()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.emit(L)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this._handleReset(),this.emit(R)}}},{key:"_getWebSocketImplementation",value:function(){return"function"==typeof WebSocket||"object"===("undefined"==typeof WebSocket?"undefined":(0,o.default)(WebSocket))?WebSocket:null}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=(0,O.resolvingPromise)(),this.subscriptions=new Map}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var e={op:E,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.socket.send(JSON.stringify(e))}},{key:"_handleWebSocketMessage",value:function(e){var data=e.data;"string"==typeof data&&(data=JSON.parse(data));var t=null;switch(data.requestId&&(t=this.subscriptions.get(data.requestId)),data.op){case N:this.state===S.RECONNECTING&&this.resubscribe(),this.emit(x),this.id=data.clientId,this.connectPromise.resolve(),this.state=S.CONNECTED;break;case P:t&&t.emit(D);break;case T:data.requestId?t&&t.emit(U,data.error):this.emit(j,data.error);break;case I:break;default:if(!t)break;var r=!1;if(data.original){for(var n in r=!0,delete data.original.__type,data.original)n in data.object||(data.object[n]=void 0);data.original=w.default.fromJSON(data.original,!1)}delete data.object.__type;var o=w.default.fromJSON(data.object,r);t.emit(data.op,o,data.original);var l=_.default.getLocalDatastore();r&&l.isEnabled&&l._updateObjectIfPinned(o).then(function(){})}}},{key:"_handleWebSocketClose",value:function(){if(this.state!==S.DISCONNECTED){this.state=S.CLOSED,this.emit(R);var e=!0,t=!1,r=void 0;try{for(var n,o=this.subscriptions.values()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.emit(L)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(e){this.emit(j,e);var t=!0,r=!1,n=void 0;try{for(var o,l=this.subscriptions.values()[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){o.value.emit(U)}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var e=this;if(this.state!==S.DISCONNECTED){this.state=S.RECONNECTING;var t,time=(t=this.attempts,Math.random()*Math.min(30,Math.pow(2,t)-1)*1e3);this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=setTimeout(function(){e.attempts++,e.connectPromise=(0,O.resolvingPromise)(),e.open()}.bind(this),time)}}}]),t}(m.default);t.default=M},function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],l=o[0],c={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[l]?n[l].parts.push(c):r.push(n[l]={id:l,parts:[c]})}return r}r.r(t),r.d(t,"default",function(){return m});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,f=0,d=!1,h=function(){},v=null,y="data-vue-ssr-id",_="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,r,o){d=r,v=o||{};var c=n(e,t);return w(c),function(t){for(var r=[],i=0;i<c.length;i++){var o=c[i];(f=l[o.id]).refs--,r.push(f)}t?w(c=n(e,t)):c=[];for(i=0;i<r.length;i++){var f;if(0===(f=r[i]).refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete l[f.id]}}}}function w(e){for(var i=0;i<e.length;i++){var t=e[i],r=l[t.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](t.parts[n]);for(;n<t.parts.length;n++)r.parts.push(O(t.parts[n]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var o=[];for(n=0;n<t.parts.length;n++)o.push(O(t.parts[n]));l[t.id]={id:t.id,refs:1,parts:o}}}}function k(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function O(e){var t,r,n=document.querySelector("style["+y+'~="'+e.id+'"]');if(n){if(d)return h;n.parentNode.removeChild(n)}if(_){var o=f++;n=c||(c=k()),t=C.bind(null,n,o,!1),r=C.bind(null,n,o,!0)}else n=k(),t=function(e,t){var r=t.css,n=t.media,o=t.sourceMap;n&&e.setAttribute("media",n);v.ssrId&&e.setAttribute(y,t.id);o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var S,E=(S=[],function(e,t){return S[e]=t,S.filter(Boolean).join("\n")});function C(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var l=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(l,c[t]):e.appendChild(l)}}},function(e,t,r){"use strict";t.a=function(e,t){return t=t||{},new Promise(function(r,n){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){o.push(t=t.toLowerCase()),u.push([t,r]),i[t]=i[t]?i[t]+","+r:r}),r(a())},s.onerror=n,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(l,t.headers[l]);s.send(t.body||null)})}},,function(e,t,r){"use strict";var n={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var r=t.parent,n=t.slots,o=t.props,l=n(),c=l.default;void 0===c&&(c=[]);var f=l.placeholder;return r._isMounted?c:(r.$once("hook:mounted",function(){r.$forceUpdate()}),o.placeholderTag&&(o.placeholder||f)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||f):c.length>0?c.map(function(){return e(!1)}):e(!1))}};e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(185)},function(e,t,r){"use strict";var n=r(69),o=r(0),l=o(r(37)),c=o(r(30)),f=o(r(7)),d=o(r(202)),h=n(r(39)),v=o(r(203)),y={initialize:function(e,t){f.default.get("IS_NODE")&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('parse/node') instead."),y._initialize(e,t)},_initialize:function(e,t,r){f.default.set("APPLICATION_ID",e),f.default.set("JAVASCRIPT_KEY",t),f.default.set("MASTER_KEY",r),f.default.set("USE_MASTER_KEY",!1)},setAsyncStorage:function(e){f.default.setAsyncStorage(e)},setLocalDatastoreController:function(e){f.default.setLocalDatastoreController(e)}};Object.defineProperty(y,"applicationId",{get:function(){return f.default.get("APPLICATION_ID")},set:function(e){f.default.set("APPLICATION_ID",e)}}),Object.defineProperty(y,"javaScriptKey",{get:function(){return f.default.get("JAVASCRIPT_KEY")},set:function(e){f.default.set("JAVASCRIPT_KEY",e)}}),Object.defineProperty(y,"masterKey",{get:function(){return f.default.get("MASTER_KEY")},set:function(e){f.default.set("MASTER_KEY",e)}}),Object.defineProperty(y,"serverURL",{get:function(){return f.default.get("SERVER_URL")},set:function(e){f.default.set("SERVER_URL",e)}}),Object.defineProperty(y,"serverAuthToken",{get:function(){return f.default.get("SERVER_AUTH_TOKEN")},set:function(e){f.default.set("SERVER_AUTH_TOKEN",e)}}),Object.defineProperty(y,"serverAuthType",{get:function(){return f.default.get("SERVER_AUTH_TYPE")},set:function(e){f.default.set("SERVER_AUTH_TYPE",e)}}),Object.defineProperty(y,"liveQueryServerURL",{get:function(){return f.default.get("LIVEQUERY_SERVER_URL")},set:function(e){f.default.set("LIVEQUERY_SERVER_URL",e)}}),y.ACL=r(38).default,y.Analytics=r(204),y.AnonymousUtils=r(126).default,y.Cloud=r(205),y.CoreManager=r(7),y.Config=r(206).default,y.Error=r(20).default,y.FacebookUtils=r(207).default,y.File=r(25).default,y.GeoPoint=r(31).default,y.Polygon=r(71).default,y.Installation=r(208).default,y.LocalDatastore=r(209),y.Object=r(6).default,y.Op={Set:h.SetOp,Unset:h.UnsetOp,Increment:h.IncrementOp,Add:h.AddOp,Remove:h.RemoveOp,AddUnique:h.AddUniqueOp,Relation:h.RelationOp},y.Push=r(219),y.Query=r(40).default,y.Relation=r(26).default,y.Role=r(119).default,y.Schema=r(220).default,y.Session=r(128).default,y.Storage=r(73),y.User=r(56).default,y.LiveQuery=r(221).default,y.LiveQueryClient=r(129).default,y._request=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.default.getRESTController().request.apply(null,t)},y._ajax=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.default.getRESTController().ajax.apply(null,t)},y._decode=function(e,t){return(0,l.default)(t)},y._encode=function(e,t,r){return(0,c.default)(e,r)},y._getInstallationId=function(){return f.default.getInstallationController().currentInstallationId()},y.enableLocalDatastore=function(){y.LocalDatastore.isEnabled=!0},y.isLocalDatastoreEnabled=function(){return y.LocalDatastore.isEnabled},y.dumpLocalDatastore=function(){return y.LocalDatastore.isEnabled?y.LocalDatastore._getAllContents():(console.log("Parse.enableLocalDatastore() must be called first"),Promise.resolve({}))},f.default.setInstallationController(d.default),f.default.setRESTController(v.default),y.Parse=y,e.exports=y},,,,,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof c.default))return!0;var t=e.attributes;for(var r in t){var n=t[r];if(!d(n))return!1}return!0};var o=n(r(3)),l=n(r(25)),c=n(r(6)),f=n(r(26));function d(e){if("object"!==(0,o.default)(e))return!0;if(e instanceof f.default)return!0;if(e instanceof c.default)return!!e.id;if(e instanceof l.default)return!!e.url();if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!d(e[i]))return!1;return!0}for(var t in e)if(!d(e[t]))return!1;return!0}},function(e,t,r){"use strict";var n=r(0)(r(3)),o=r(193).default,l=r(37).default,c=r(20).default,f=r(71).default,d=r(31).default;function h(e,t){if(t&&t.__type&&("Pointer"===t.__type||"Object"===t.__type)){for(var i in e){var r=e[i];if("string"==typeof r&&r===t.objectId)return!0;if(r.className===t.className&&r.objectId===t.objectId)return!0}return!1}return e.indexOf(t)>-1}function v(object){return object._toFullJSON?object._toFullJSON():object}function y(e,object,t,r){if(object.className!==e)return!1;var n=object,q=r;for(var o in object.toJSON&&(n=object.toJSON()),r.toJSON&&(q=r.toJSON().where),n.className=e,q)if(!m(e,n,t,o,q[o]))return!1;return!0}function _(e,t,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(r(e[i],t))return!0;return!1}return r(e,t)}function m(e,object,t,r,w){if(null===w)return!1;if(r.indexOf(".")>=0){var k=r.split("."),O=k[0],S=k.slice(1).join(".");return m(e,object[O]||{},t,S,w)}var i,E;if("$or"===r){for(i=0;i<w.length;i++)if(y(e,object,t,w[i]))return!0;return!1}if("$and"===r){for(i=0;i<w.length;i++)if(!y(e,object,t,w[i]))return!1;return!0}if("$nor"===r){for(i=0;i<w.length;i++)if(y(e,object,t,w[i]))return!1;return!0}if("$relatedTo"===r)return!1;if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(r))throw new c(c.INVALID_KEY_NAME,"Invalid Key: ".concat(r));if("object"!==(0,n.default)(w))return Array.isArray(object[r])?object[r].indexOf(w)>-1:object[r]===w;if(w.__type)return"Pointer"===w.__type?_(object[r],w,function(e,t){return void 0!==e&&t.className===e.className&&t.objectId===e.objectId}):_(l(object[r]),l(w),o);for(var C in w)switch((E=w[C]).__type&&(E=l(E)),("[object Date]"===toString.call(E)||"string"==typeof E&&"Invalid Date"!==new Date(E)&&!isNaN(new Date(E)))&&(object[r]=new Date(object[r].iso?object[r].iso:object[r])),C){case"$lt":if(object[r]>=E)return!1;break;case"$lte":if(object[r]>E)return!1;break;case"$gt":if(object[r]<=E)return!1;break;case"$gte":if(object[r]<E)return!1;break;case"$ne":if(o(object[r],E))return!1;break;case"$in":if(!h(E,object[r]))return!1;break;case"$nin":if(h(E,object[r]))return!1;break;case"$all":for(i=0;i<E.length;i++)if(object[r].indexOf(E[i])<0)return!1;break;case"$exists":var A=void 0!==object[r],N=w.$exists;if("boolean"!=typeof w.$exists)break;if(!A&&N||A&&!N)return!1;break;case"$regex":if("object"===(0,n.default)(E))return E.test(object[r]);for(var P="",I=-2,T=E.indexOf("\\Q");T>-1;)P+=E.substring(I+2,T),(I=E.indexOf("\\E",T))>-1&&(P+=E.substring(T+2,I).replace(/\\\\\\\\E/g,"\\E").replace(/\W/g,"\\$&")),T=E.indexOf("\\Q",I);P+=E.substring(Math.max(T,I+2));var R=w.$options||"";if(R=R.replace("x","").replace("s",""),!new RegExp(P,R).test(object[r]))return!1;break;case"$nearSphere":return!(!E||!object[r])&&E.radiansTo(object[r])<=(w.$maxDistance||1/0);case"$within":if(!E||!object[r])return!1;var j=E.$box[0],x=E.$box[1];return!(j.latitude>x.latitude||j.longitude>x.longitude)&&(object[r].latitude>j.latitude&&object[r].latitude<x.latitude&&object[r].longitude>j.longitude&&object[r].longitude<x.longitude);case"$options":case"$maxDistance":break;case"$select":for(var D=t.filter(function(e,t,r){return y(E.query.className,e,r,E.query.where)}),L=0;L<D.length;L+=1){var U=v(D[L]);return o(object[r],U[E.key])}return!1;case"$dontSelect":for(var M=t.filter(function(e,t,r){return y(E.query.className,e,r,E.query.where)}),F=0;F<M.length;F+=1){var K=v(M[F]);return!o(object[r],K[E.key])}return!1;case"$inQuery":for(var J=t.filter(function(e,t,r){return y(E.className,e,r,E.where)}),W=0;W<J.length;W+=1){var $=v(J[W]);if(object[r].className===$.className&&object[r].objectId===$.objectId)return!0}return!1;case"$notInQuery":for(var V=t.filter(function(e,t,r){return y(E.className,e,r,E.where)}),Q=0;Q<V.length;Q+=1){var B=v(V[Q]);if(object[r].className===B.className&&object[r].objectId===B.objectId)return!1}return!0;case"$containedBy":var z=!0,G=!1,H=void 0;try{for(var Y,X=object[r][Symbol.iterator]();!(z=(Y=X.next()).done);z=!0){var Z=Y.value;if(!h(E,Z))return!1}}catch(e){G=!0,H=e}finally{try{z||null==X.return||X.return()}finally{if(G)throw H}}return!0;case"$geoWithin":var ee=E.$polygon.map(function(e){return[e.latitude,e.longitude]});return new f(ee).containsPoint(object[r]);case"$geoIntersects":var te=new f(object[r].coordinates),re=new d(E.$point);return te.containsPoint(re);default:return!1}return!0}var w={matchesQuery:y,validateQuery:function(e){var q=e;e.toJSON&&(q=e.toJSON().where);var t=["$and","$or","$nor","_rperm","_wperm","_perishable_token","_email_verify_token","_email_verify_token_expires_at","_account_lockout_expires_at","_failed_login_count"];Object.keys(q).forEach(function(e){if(q&&q[e]&&q[e].$regex&&"string"==typeof q[e].$options&&!q[e].$options.match(/^[imxs]+$/))throw new c(c.INVALID_QUERY,"Bad $options value for query: ".concat(q[e].$options));if(t.indexOf(e)<0&&!e.match(/^[a-zA-Z][a-zA-Z0-9_\.]*$/))throw new c(c.INVALID_KEY_NAME,"Invalid key name: ".concat(e))})}};e.exports=w},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(a,b){if("[object Date]"===h.call(a)||"[object Date]"===h.call(b)){var t=new Date(a),r=new Date(b);return+t==+r}if((0,o.default)(a)!==(0,o.default)(b))return!1;if(!a||"object"!==(0,o.default)(a))return a===b;if(Array.isArray(a)||Array.isArray(b)){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var i=a.length;i--;)if(!e(a[i],b[i]))return!1;return!0}if(a instanceof l.default||a instanceof c.default||a instanceof f.default||a instanceof d.default)return a.equals(b);if(b instanceof d.default&&("Object"===a.__type||"Pointer"===a.__type))return a.objectId===b.id&&a.className===b.className;if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var n in a)if(!e(a[n],b[n]))return!1;return!0};var o=n(r(3)),l=n(r(38)),c=n(r(25)),f=n(r(31)),d=n(r(6)),h=Object.prototype.toString},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(e);if(!t)return null;var r=parseInt(t[1])||0,n=(parseInt(t[2])||1)-1,o=parseInt(t[3])||0,l=parseInt(t[4])||0,c=parseInt(t[5])||0,f=parseInt(t[6])||0,d=parseInt(t[8])||0;return new Date(Date.UTC(r,n,o,l,c,f,d))}},function(e,t,r){"use strict";var n=r(69);Object.defineProperty(t,"__esModule",{value:!0}),t.getState=c,t.initializeState=f,t.removeState=function(e){var t=c(e);if(null===t)return null;return delete l[e.className][e.id],t},t.getServerData=d,t.setServerData=function(e,t){var r=f(e).serverData;o.setServerData(r,t)},t.getPendingOps=h,t.setPendingOp=function(e,t,r){var n=f(e).pendingOps;o.setPendingOp(n,t,r)},t.pushPendingState=function(e){var t=f(e).pendingOps;o.pushPendingState(t)},t.popPendingState=function(e){var t=f(e).pendingOps;return o.popPendingState(t)},t.mergeFirstPendingState=function(e){var t=h(e);o.mergeFirstPendingState(t)},t.getObjectCache=function(e){var t=c(e);if(t)return t.objectCache;return{}},t.estimateAttribute=function(e,t){var r=d(e),n=h(e);return o.estimateAttribute(r,n,e.className,e.id,t)},t.estimateAttributes=function(e){var t=d(e),r=h(e);return o.estimateAttributes(t,r,e.className,e.id)},t.commitServerChanges=function(e,t){var r=f(e);o.commitServerChanges(r.serverData,r.objectCache,t)},t.enqueueTask=function(e,t){return f(e).tasks.enqueue(t)},t.clearAllState=function(){l={}},t.duplicateState=function(source,e){e.id=source.id};var o=n(r(124)),l={};function c(e){var t=l[e.className];return t&&t[e.id]||null}function f(e,t){var r=c(e);return r||(l[e.className]||(l[e.className]={}),t||(t=o.defaultState()),r=l[e.className][e.id]=t)}function d(e){var t=c(e);return t?t.serverData:{}}function h(e){var t=c(e);return t?t.pendingOps:[{}]}},function(e,t,r){"use strict";var n=r(0),o=r(69);Object.defineProperty(t,"__esModule",{value:!0}),t.getState=d,t.initializeState=h,t.removeState=function(e){var t=d(e);if(null===t)return null;return f.delete(e),t},t.getServerData=v,t.setServerData=function(e,t){var r=h(e).serverData;l.setServerData(r,t)},t.getPendingOps=y,t.setPendingOp=function(e,t,r){var n=h(e).pendingOps;l.setPendingOp(n,t,r)},t.pushPendingState=function(e){var t=h(e).pendingOps;l.pushPendingState(t)},t.popPendingState=function(e){var t=h(e).pendingOps;return l.popPendingState(t)},t.mergeFirstPendingState=function(e){var t=y(e);l.mergeFirstPendingState(t)},t.getObjectCache=function(e){var t=d(e);if(t)return t.objectCache;return{}},t.estimateAttribute=function(e,t){var r=v(e),n=y(e);return l.estimateAttribute(r,n,e.className,e.id,t)},t.estimateAttributes=function(e){var t=v(e),r=y(e);return l.estimateAttributes(t,r,e.className,e.id)},t.commitServerChanges=function(e,t){var r=h(e);l.commitServerChanges(r.serverData,r.objectCache,t)},t.enqueueTask=function(e,t){return h(e).tasks.enqueue(t)},t.duplicateState=function(source,e){var t=h(source),r=h(e);for(var n in t.serverData)r.serverData[n]=t.serverData[n];for(var o=0;o<t.pendingOps.length;o++)for(var l in t.pendingOps[o])r.pendingOps[o][l]=t.pendingOps[o][l];for(var c in t.objectCache)r.objectCache[c]=t.objectCache[c];r.existed=t.existed},t.clearAllState=function(){f=new WeakMap};var l=o(r(124)),c=n(r(125)),f=new WeakMap;function d(e){return f.get(e)||null}function h(e,t){var r=d(e);return r||(t||(t={serverData:{},pendingOps:[{}],objectCache:{},tasks:new c.default,existed:!1}),r=t,f.set(e,r),r)}function v(e){var t=d(e);return t?t.serverData:{}}function y(e){var t=d(e);return t?t.pendingOps:[{}]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r={objects:{},files:[]},n=e.className+":"+e._getId();r.objects[n]=!e.dirty()||e;var l=e.attributes;for(var c in l)"object"===(0,o.default)(l[c])&&d(l[c],r,!1,!!t);var f=[];for(var h in r.objects)h!==n&&!0!==r.objects[h]&&f.push(r.objects[h]);return f.concat(r.files)};var o=n(r(3)),l=n(r(25)),c=n(r(6)),f=n(r(26));function d(e,t,r,n){if(e instanceof c.default){if(!e.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");var h=e.className+":"+e._getId();if(!t.objects[h]){t.objects[h]=!e.dirty()||e;var v=e.attributes;for(var y in v)"object"===(0,o.default)(v[y])&&d(v[y],t,!n,n)}}else if(e instanceof l.default)!e.url()&&t.files.indexOf(e)<0&&t.files.push(e);else if(!(e instanceof f.default))for(var _ in Array.isArray(e)&&e.forEach(function(e){"object"===(0,o.default)(e)&&d(e,t,r,n)}),e)"object"===(0,o.default)(e[_])&&d(e[_],t,r,n)}},function(e,t,r){var n=r(199),o=r(200);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||n)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t)for(var c=0;c<16;++c)t[i+c]=l[c];return t||o(l)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,i=0;i<16;i++)0==(3&i)&&(e=4294967296*Math.random()),o[i]=e>>>((3&i)<<3)&255;return o}}},function(e,t){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=r;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},function(e,t,r){"use strict";var n={async:0,getItem:function(path){return localStorage.getItem(path)},setItem:function(path,e){try{localStorage.setItem(path,e)}catch(e){}},removeItem:function(path){localStorage.removeItem(path)},clear:function(){localStorage.clear()}};e.exports=n},function(e,t,r){"use strict";var n=r(0)(r(73)),o=null;function l(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var c={currentInstallationId:function(){if("string"==typeof o)return Promise.resolve(o);var path=n.default.generatePath("installationId");return n.default.getItemAsync(path).then(function(e){return e?(o=e,e):(e=l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l(),n.default.setItemAsync(path,e).then(function(){return o=e,e}))})},_clearCache:function(){o=null},_setInstallationIdCache:function(e){o=e}};e.exports=c},function(e,t,r){"use strict";(function(t){var n=r(0),o=n(r(11)),l=n(r(3)),c=n(r(7)),f=n(r(20));function d(object,e){var t=Object.keys(object);return Object.getOwnPropertySymbols&&t.push.apply(t,Object.getOwnPropertySymbols(object)),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable})),t}var h=null;"undefined"!=typeof XMLHttpRequest&&(h=XMLHttpRequest);var v=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(v=!0);var y={ajax:function(e,r,data,n,o){if(v)return function(e,t,data,r){return new Promise(function(n,o){var l=new XDomainRequest;l.onload=function(){var e;try{e=JSON.parse(l.responseText)}catch(e){o(e)}e&&n({response:e})},l.onerror=l.ontimeout=function(){var e={responseText:JSON.stringify({code:f.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};o(e)},l.onprogress=function(){r&&"function"==typeof r.progress&&r.progress(l.responseText)},l.open(e,t),l.send(data)})}(e,r,data,n);var l,d,y=new Promise(function(e,t){l=e,d=t});y.resolve=l,y.reject=d;var _=0;return function l(){if(null==h)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var f=!1,d=new h;for(var v in d.onreadystatechange=function(){if(4===d.readyState&&!f)if(f=!0,d.status>=200&&d.status<300){var e;try{e=JSON.parse(d.responseText),"function"==typeof d.getResponseHeader&&(d.getAllResponseHeaders()||"").includes("x-parse-job-status-id: ")&&(e=d.getResponseHeader("x-parse-job-status-id"))}catch(e){y.reject(e.toString())}e&&y.resolve({response:e,status:d.status,xhr:d})}else if(d.status>=500||0===d.status)if(++_<c.default.get("REQUEST_ATTEMPT_LIMIT")){var t=Math.round(125*Math.random()*Math.pow(2,_));setTimeout(l,t)}else 0===d.status?y.reject("Unable to connect to the Parse API"):y.reject(d);else y.reject(d)},"string"!=typeof(n=n||{})["Content-Type"]&&(n["Content-Type"]="text/plain"),c.default.get("IS_NODE")&&(n["User-Agent"]="Parse/"+c.default.get("VERSION")+" (NodeJS "+t.versions.node+")"),c.default.get("SERVER_AUTH_TYPE")&&c.default.get("SERVER_AUTH_TOKEN")&&(n.Authorization=c.default.get("SERVER_AUTH_TYPE")+" "+c.default.get("SERVER_AUTH_TOKEN")),o&&"function"==typeof o.progress&&(d.upload?d.upload.addEventListener("progress",function(e){e.lengthComputable?o.progress(e.loaded/e.total):o.progress(null)}):d.addEventListener&&d.addEventListener("progress",function(e){e.lengthComputable?o.progress(e.loaded/e.total):o.progress(null)})),d.open(e,r,!0),n)d.setRequestHeader(v,n[v]);d.send(data)}(),y},request:function(e,path,data,t){t=t||{};var r=c.default.get("SERVER_URL");"/"!==r[r.length-1]&&(r+="/"),r+=path;var n={};if(data&&"object"===(0,l.default)(data))for(var h in data)n[h]=data[h];"POST"!==e&&(n._method=e,e="POST"),n._ApplicationId=c.default.get("APPLICATION_ID");var v=c.default.get("JAVASCRIPT_KEY");v&&(n._JavaScriptKey=v),n._ClientVersion=c.default.get("VERSION");var _=t.useMasterKey;if(void 0===_&&(_=c.default.get("USE_MASTER_KEY")),_){if(!c.default.get("MASTER_KEY"))throw new Error("Cannot use the Master Key, it has not been provided.");delete n._JavaScriptKey,n._MasterKey=c.default.get("MASTER_KEY")}c.default.get("FORCE_REVOCABLE_SESSION")&&(n._RevocableSession="1");var m,w=t.installationId;w&&"string"==typeof w?m=Promise.resolve(w):m=c.default.getInstallationController().currentInstallationId();return m.then(function(e){n._InstallationId=e;var r=c.default.getUserController();return t&&"string"==typeof t.sessionToken?Promise.resolve(t.sessionToken):r?r.currentUserAsync().then(function(e){return e?Promise.resolve(e.getSessionToken()):Promise.resolve(null)}):Promise.resolve(null)}).then(function(l){l&&(n._SessionToken=l);var c=JSON.stringify(n);return y.ajax(e,r,c,{},t).then(function(e){var r=e.response,n=e.status;return t.returnStatus?function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach(function(t){(0,o.default)(e,t,source[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))})}return e}({},r,{_status:n}):r})}).catch(function(e){var t;if(e&&e.responseText)try{var r=JSON.parse(e.responseText);t=new f.default(r.code,r.error)}catch(r){t=new f.default(f.default.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else t=new f.default(f.default.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return Promise.reject(t)})},_setXHR:function(e){h=e}};e.exports=y}).call(this,r(89))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t){if(0===(e=(e=(e=e||"").replace(/^\s*/,"")).replace(/\s*$/,"")).length)throw new TypeError("A name for the custom event must be provided");for(var r in t)if("string"!=typeof r||"string"!=typeof t[r])throw new TypeError('track() dimensions expects keys and values of type "string".');return o.default.getAnalyticsController().track(e,t)};var o=n(r(7));var l={track:function(e,t){return o.default.getRESTController().request("POST","events/"+e,{dimensions:t})}};o.default.setAnalyticsController(l)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.run=function(e,data,t){if(t=t||{},"string"!=typeof e||0===e.length)throw new TypeError("Cloud function name must be a string.");var r={};t.useMasterKey&&(r.useMasterKey=t.useMasterKey);t.sessionToken&&(r.sessionToken=t.sessionToken);return l.default.getCloudController().run(e,data,r)},t.getJobsData=function(){return l.default.getCloudController().getJobsData({useMasterKey:!0})},t.startJob=function(e,data){if("string"!=typeof e||0===e.length)throw new TypeError("Cloud job name must be a string.");return l.default.getCloudController().startJob(e,data,{useMasterKey:!0})},t.getJobStatus=function(e){return new h.default("_JobStatus").get(e,{useMasterKey:!0})};var o=n(r(3)),l=n(r(7)),c=n(r(37)),f=n(r(30)),d=n(r(20)),h=n(r(40));n(r(6));var v={run:function(e,data,t){var r=l.default.getRESTController(),n=(0,f.default)(data,!0);return r.request("POST","functions/"+e,n,t).then(function(e){if("object"===(0,o.default)(e)&&Object.keys(e).length>0&&!e.hasOwnProperty("result"))throw new d.default(d.default.INVALID_JSON,"The server returned an invalid response.");var t=(0,c.default)(e);return t&&t.hasOwnProperty("result")?Promise.resolve(t.result):Promise.resolve(void 0)})},getJobsData:function(e){return l.default.getRESTController().request("GET","cloud_code/jobs/data",null,e)},startJob:function(e,data,t){var r=l.default.getRESTController(),n=(0,f.default)(data,!0);return r.request("POST","jobs/"+e,n,t)}};l.default.setCloudController(v)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(9)),f=n(r(11)),d=n(r(7)),h=n(r(37)),v=n(r(30)),y=n(r(123)),_=n(r(20)),m=n(r(73)),w=function(){function e(){(0,l.default)(this,e),(0,f.default)(this,"attributes",void 0),(0,f.default)(this,"_escapedAttributes",void 0),this.attributes={},this._escapedAttributes={}}return(0,c.default)(e,[{key:"get",value:function(e){return this.attributes[e]}},{key:"escape",value:function(e){var html=this._escapedAttributes[e];if(html)return html;var t=this.attributes[e],r="";return null!=t&&(r=(0,y.default)(t.toString())),this._escapedAttributes[e]=r,r}}],[{key:"current",value:function(){return d.default.getConfigController().current()}},{key:"get",value:function(){return d.default.getConfigController().get()}},{key:"save",value:function(e){var t=d.default.getConfigController();return t.save(e).then(function(){return t.get()},function(e){return Promise.reject(e)})}}]),e}(),k=null;function O(data){try{var e=JSON.parse(data);if(e&&"object"===(0,o.default)(e))return(0,h.default)(e)}catch(e){return null}}var S={current:function(){if(k)return k;var e,t=new w,r=m.default.generatePath("currentConfig");if(!m.default.async()){if(e=m.default.getItem(r)){var n=O(e);n&&(t.attributes=n,k=t)}return t}return m.default.getItemAsync(r).then(function(e){if(e){var r=O(e);r&&(t.attributes=r,k=t)}return t})},get:function(){return d.default.getRESTController().request("GET","config",{},{}).then(function(e){if(!e||!e.params){var t=new _.default(_.default.INVALID_JSON,"Config JSON response invalid.");return Promise.reject(t)}var r=new w;for(var n in r.attributes={},e.params)r.attributes[n]=(0,h.default)(e.params[n]);return k=r,m.default.setItemAsync(m.default.generatePath("currentConfig"),JSON.stringify(e.params)).then(function(){return r})})},save:function(e){var t=d.default.getRESTController(),r={};for(var n in e)r[n]=(0,v.default)(e[n]);return t.request("PUT","config",{params:r},{useMasterKey:!0}).then(function(e){if(e&&e.result)return Promise.resolve();var t=new _.default(_.default.INTERNAL_SERVER_ERROR,"Error occured updating Config.");return Promise.reject(t)})}};d.default.setConfigController(S);var E=w;t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,c=n(r(56)),f=!1,d={authenticate:function(e){var t=this;"undefined"==typeof FB&&e.error(this,"Facebook SDK not found."),FB.login(function(r){r.authResponse?e.success&&e.success(t,{id:r.authResponse.userID,access_token:r.authResponse.accessToken,expiration_date:new Date(1e3*r.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(t,r)},{scope:o})},restoreAuthentication:function(e){if(e){var t={};if(l)for(var r in l)t[r]=l[r];t.status=!1;var n=FB.getAuthResponse();n&&n.userID!==e.id&&FB.logout(),FB.init(t)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}},h={init:function(e){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(l={},e)for(var t in e)l[t]=e[t];l.status&&"undefined"!=typeof console&&(console.warn||console.log||function(){}).call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.');l.status=!1,FB.init(l),c.default._registerAuthenticationProvider(d),f=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,t){if(!e||"string"==typeof e){if(!f)throw new Error("You must initialize FacebookUtils before calling logIn.");return o=e,c.default._logInWith("facebook",t)}return c.default._logInWith("facebook",{authData:e},t)},link:function(e,t,r){if(!t||"string"==typeof t){if(!f)throw new Error("You must initialize FacebookUtils before calling link.");return o=t,e._linkWith("facebook",r)}return e._linkWith("facebook",{authData:t},r)},unlink:function(e,t){if(!f)throw new Error("You must initialize FacebookUtils before calling unlink.");return e._unlinkFrom("facebook",t)},_getAuthProvider:function(){return d}};t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),l=n(r(5)),c=n(r(23)),f=n(r(16)),d=n(r(24)),h=n(r(6)),v=function(e){function t(e){var r;if((0,l.default)(this,t),r=(0,c.default)(this,(0,f.default)(t).call(this,"_Installation")),e&&"object"===(0,o.default)(e)&&!r.set(e||{}))throw new Error("Can't create an invalid Session");return r}return(0,d.default)(t,e),t}(h.default);t.default=v,h.default.registerSubclass("_Installation",v)},function(e,t,r){"use strict";var n,o,l,c,f,d,h,v,y=r(0),_=y(r(54)),m=y(r(210)),w=y(r(214)),k=y(r(55)),O=y(r(7)),S=y(r(40)),E=r(72),C={isEnabled:!1,isSyncing:!1,fromPinWithName:function(e){return O.default.getLocalDatastoreController().fromPinWithName(e)},pinWithName:function(e,t){return O.default.getLocalDatastoreController().pinWithName(e,t)},unPinWithName:function(e){return O.default.getLocalDatastoreController().unPinWithName(e)},_getAllContents:function(){return O.default.getLocalDatastoreController().getAllContents()},_getRawStorage:function(){return O.default.getLocalDatastoreController().getRawStorage()},_clear:function(){return O.default.getLocalDatastoreController().clear()},_handlePinAllWithName:(v=(0,k.default)(_.default.mark(function e(t,r){var n,o,l,c,f,d,h,v,y,k,O,S,E,C,A,N,P,I;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.getPinName(t),o=[],l=[],c=!0,f=!1,d=void 0,e.prev=6,h=r[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)for(E in y=v.value,k=this._getChildren(y),O=this.getKeyForObject(y),S=y._toFullJSON(),y._localId&&(S._localId=y._localId),k[O]=S,k)l.push(E),o.push(this.pinWithName(E,[k[E]]));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),f=!0,d=e.t0;case 14:e.prev=14,e.prev=15,c||null==h.return||h.return();case 17:if(e.prev=17,!f){e.next=20;break}throw d;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return C=this.fromPinWithName(n),e.next=25,Promise.all([C,o]);case 25:return A=e.sent,N=(0,w.default)(A,1),P=N[0],I=(0,m.default)(new Set([].concat((0,m.default)(P||[]),l))),e.abrupt("return",this.pinWithName(n,I));case 30:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])})),function(){return v.apply(this,arguments)}),_handleUnPinAllWithName:(h=(0,k.default)(_.default.mark(function e(t,r){var n,o,l,c,f,d,h,v,y,w,k,O,S,C,A,N,P,I,T,R,j,x;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getAllContents();case 2:for(n=e.sent,o=this.getPinName(t),l=[],c=[],f=!0,d=!1,h=void 0,e.prev=9,v=r[Symbol.iterator]();!(f=(y=v.next()).done);f=!0)k=y.value,O=this._getChildren(k),S=this.getKeyForObject(k),(w=c).push.apply(w,[S].concat((0,m.default)(Object.keys(O))));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),d=!0,h=e.t0;case 17:e.prev=17,e.prev=18,f||null==v.return||v.return();case 20:if(e.prev=20,!d){e.next=23;break}throw h;case 23:return e.finish(20);case 24:return e.finish(17);case 25:c=(0,m.default)(new Set(c)),0==(C=(C=n[o]||[]).filter(function(e){return!c.includes(e)})).length?(l.push(this.unPinWithName(o)),delete n[o]):(l.push(this.pinWithName(o,C)),n[o]=C),A=!0,N=!1,P=void 0,e.prev=32,I=c[Symbol.iterator]();case 34:if(A=(T=I.next()).done){e.next=51;break}R=T.value,j=!1,e.t1=_.default.keys(n);case 38:if((e.t2=e.t1()).done){e.next=47;break}if((x=e.t2.value)!==E.DEFAULT_PIN&&!x.startsWith(E.PIN_PREFIX)){e.next=45;break}if(!(n[x]||[]).includes(R)){e.next=45;break}return j=!0,e.abrupt("break",47);case 45:e.next=38;break;case 47:j||l.push(this.unPinWithName(R));case 48:A=!0,e.next=34;break;case 51:e.next=57;break;case 53:e.prev=53,e.t3=e.catch(32),N=!0,P=e.t3;case 57:e.prev=57,e.prev=58,A||null==I.return||I.return();case 60:if(e.prev=60,!N){e.next=63;break}throw P;case 63:return e.finish(60);case 64:return e.finish(57);case 65:return e.abrupt("return",Promise.all(l));case 66:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24],[32,53,57,65],[58,,60,64]])})),function(){return h.apply(this,arguments)}),_getChildren:function(object){var e={},t=object._toFullJSON();for(var r in t)t[r]&&t[r].__type&&"Object"===t[r].__type&&this._traverse(t[r],e);return e},_traverse:function(object,e){if(object.objectId){var t=this.getKeyForObject(object);if(!e[t])for(var r in e[t]=object,object){var n=object[r];object[r]||(n=object),n.__type&&"Object"===n.__type&&this._traverse(n,e)}}},_serializeObjectsFromPinName:(d=(0,k.default)(_.default.mark(function e(t){var r,n,o,l,c,f,d,h,v=this;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getAllContents();case 2:for(l in n=e.sent,o=[],n)l.startsWith(E.OBJECT_PREFIX)&&o.push(n[l][0]);if(t){e.next=7;break}return e.abrupt("return",o);case 7:if(c=this.getPinName(t),f=n[c],Array.isArray(f)){e.next=11;break}return e.abrupt("return",[]);case 11:return d=f.map(function(e){return v.fromPinWithName(e)}),e.next=14,Promise.all(d);case 14:return h=e.sent,h=(r=[]).concat.apply(r,(0,m.default)(h)),e.abrupt("return",h.filter(function(object){return null!=object}));case 17:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),_serializeObject:(f=(0,k.default)(_.default.mark(function e(t,r){var n,o,l,meta,c,f,d,h,v,y,m;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r){e.next=5;break}return e.next=4,this._getAllContents();case 4:n=e.sent;case 5:if(n[t]&&0!==n[t].length){e.next=7;break}return e.abrupt("return",null);case 7:for(o=n[t][0],l=[],(meta={})[c=0]=o,l.push(c);0!==l.length;)for(h in f=l.shift(),d=meta[f])(v=d[h]).__type&&"Object"===v.__type&&(y=this.getKeyForObject(v),n[y]&&n[y].length>0&&(m=n[y][0],meta[++c]=m,d[h]=m,l.push(c)));return e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)}),_updateObjectIfPinned:(c=(0,k.default)(_.default.mark(function e(object){var t,r;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return t=this.getKeyForObject(object),e.next=5,this.fromPinWithName(t);case 5:if((r=e.sent)&&0!==r.length){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return",this.pinWithName(t,[object._toFullJSON()]));case 9:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)}),_destroyObjectIfPinned:(l=(0,k.default)(_.default.mark(function e(object){var t,r,n,o,l;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._getAllContents();case 4:if(t=e.sent,r=this.getKeyForObject(object),t[r]){e.next=9;break}return e.abrupt("return");case 9:for(o in n=[this.unPinWithName(r)],delete t[r],t)(o===E.DEFAULT_PIN||o.startsWith(E.PIN_PREFIX))&&(l=t[o]||[]).includes(r)&&(0==(l=l.filter(function(e){return e!==r})).length?(n.push(this.unPinWithName(o)),delete t[o]):(n.push(this.pinWithName(o,l)),t[o]=l));return e.abrupt("return",Promise.all(n));case 13:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),_updateLocalIdForObject:(o=(0,k.default)(_.default.mark(function e(t,object){var r,n,o,l,c,f,d;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return r="".concat(E.OBJECT_PREFIX).concat(object.className,"_").concat(t),n=this.getKeyForObject(object),e.next=6,this.fromPinWithName(r);case 6:if((o=e.sent)&&0!==o.length){e.next=9;break}return e.abrupt("return");case 9:return l=[this.unPinWithName(r),this.pinWithName(n,o)],e.next=12,this._getAllContents();case 12:for(f in c=e.sent)(f===E.DEFAULT_PIN||f.startsWith(E.PIN_PREFIX))&&(d=c[f]||[]).includes(r)&&((d=d.filter(function(e){return e!==r})).push(n),l.push(this.pinWithName(f,d)),c[f]=d);return e.abrupt("return",Promise.all(l));case 15:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),updateFromServer:(n=(0,k.default)(_.default.mark(function e(){var t,r,n,o,l,c,f,d,h,v,y,m,k,O,C,A=this;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkIfEnabled()&&!this.isSyncing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._getAllContents();case 4:for(n in t=e.sent,r=[],t)n.startsWith(E.OBJECT_PREFIX)&&r.push(n);if(0!==r.length){e.next=9;break}return e.abrupt("return");case 9:this.isSyncing=!0,o={},l=0,c=r;case 12:if(!(l<c.length)){e.next=23;break}if(f=c[l],d=f.split("_"),h=(0,w.default)(d,4),v=h[2],y=h[3],5===f.split("_").length&&"User"===f.split("_")[3]&&(v="_User",y=f.split("_")[4]),!y.startsWith("local")){e.next=18;break}return e.abrupt("continue",20);case 18:v in o||(o[v]=new Set),o[v].add(y);case 20:l++,e.next=12;break;case 23:return m=Object.keys(o).map(function(e){var t=Array.from(o[e]),r=new S.default(e);return r.limit(t.length),1===t.length?r.equalTo("objectId",t[0]):r.containedIn("objectId",t),r.find()}),e.prev=24,e.next=27,Promise.all(m);case 27:return k=e.sent,O=[].concat.apply([],k),C=O.map(function(object){var e=A.getKeyForObject(object);return A.pinWithName(e,object._toFullJSON())}),e.next=32,Promise.all(C);case 32:this.isSyncing=!1,e.next=39;break;case 35:e.prev=35,e.t0=e.catch(24),console.error("Error syncing LocalDatastore: ",e.t0),this.isSyncing=!1;case 39:case"end":return e.stop()}},e,this,[[24,35]])})),function(){return n.apply(this,arguments)}),getKeyForObject:function(object){var e=object.objectId||object._getId();return"".concat(E.OBJECT_PREFIX).concat(object.className,"_").concat(e)},getPinName:function(e){return e&&e!==E.DEFAULT_PIN?E.PIN_PREFIX+e:E.DEFAULT_PIN},checkIfEnabled:function(){return this.isEnabled||console.error("Parse.enableLocalDatastore() must be called first"),this.isEnabled}};e.exports=C,O.default.setLocalDatastoreController(r(218)),O.default.setLocalDatastore(C)},,,,,,,,,function(e,t,r){"use strict";var n=r(72),o={fromPinWithName:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]},pinWithName:function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.log(e.message)}},unPinWithName:function(e){localStorage.removeItem(e)},getAllContents:function(){for(var e={},i=0;i<localStorage.length;i+=1){var t=localStorage.key(i);if((0,n.isLocalDatastoreKey)(t)){var r=localStorage.getItem(t);try{e[t]=JSON.parse(r)}catch(e){console.error("Error getAllContents: ",e)}}}return e},getRawStorage:function(){for(var e={},i=0;i<localStorage.length;i+=1){var t=localStorage.key(i),r=localStorage.getItem(t);e[t]=r}return e},clear:function(){for(var e=[],i=0;i<localStorage.length;i+=1){var t=localStorage.key(i);(0,n.isLocalDatastoreKey)(t)&&e.push(t)}var r=e.map(this.unPinWithName);return Promise.all(r)}};e.exports=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.send=function(data,e){e=e||{},data.where&&data.where instanceof c.default&&(data.where=data.where.toJSON().where);data.push_time&&"object"===(0,o.default)(data.push_time)&&(data.push_time=data.push_time.toJSON());data.expiration_time&&"object"===(0,o.default)(data.expiration_time)&&(data.expiration_time=data.expiration_time.toJSON());if(data.expiration_time&&data.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return l.default.getPushController().send(data,{useMasterKey:e.useMasterKey})};var o=n(r(3)),l=n(r(7)),c=n(r(40));var f={send:function(data,e){return l.default.getRESTController().request("POST","push",data,{useMasterKey:!!e.useMasterKey})}};l.default.setPushController(f)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(11)),f=n(r(7)),d=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"],h=function(){function e(t){(0,o.default)(this,e),(0,c.default)(this,"className",void 0),(0,c.default)(this,"_fields",void 0),(0,c.default)(this,"_indexes",void 0),"string"==typeof t&&("User"===t&&f.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=t),this._fields={},this._indexes={}}return(0,l.default)(e,[{key:"get",value:function(e){return this.assertClassName(),e=e||{},f.default.getSchemaController().get(this.className,e).then(function(e){if(!e)throw new Error("Schema not found.");return e})}},{key:"save",value:function(e){this.assertClassName(),e=e||{};var t=f.default.getSchemaController(),r={className:this.className,fields:this._fields,indexes:this._indexes};return t.create(this.className,r,e).then(function(e){return e})}},{key:"update",value:function(e){this.assertClassName(),e=e||{};var t=f.default.getSchemaController(),r={className:this.className,fields:this._fields,indexes:this._indexes};return this._fields={},this._indexes={},t.update(this.className,r,e).then(function(e){return e})}},{key:"delete",value:function(e){return this.assertClassName(),e=e||{},f.default.getSchemaController().delete(this.className,e).then(function(e){return e})}},{key:"purge",value:function(){return this.assertClassName(),f.default.getSchemaController().purge(this.className).then(function(e){return e})}},{key:"assertClassName",value:function(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}},{key:"addField",value:function(e,t){if(t=t||"String",!e)throw new Error("field name may not be null.");if(-1===d.indexOf(t))throw new Error("".concat(t," is not a valid type."));return this._fields[e]={type:t},this}},{key:"addIndex",value:function(e,t){if(!e)throw new Error("index name may not be null.");if(!t)throw new Error("index may not be null.");return this._indexes[e]=t,this}},{key:"addString",value:function(e){return this.addField(e,"String")}},{key:"addNumber",value:function(e){return this.addField(e,"Number")}},{key:"addBoolean",value:function(e){return this.addField(e,"Boolean")}},{key:"addDate",value:function(e){return this.addField(e,"Date")}},{key:"addFile",value:function(e){return this.addField(e,"File")}},{key:"addGeoPoint",value:function(e){return this.addField(e,"GeoPoint")}},{key:"addPolygon",value:function(e){return this.addField(e,"Polygon")}},{key:"addArray",value:function(e){return this.addField(e,"Array")}},{key:"addObject",value:function(e){return this.addField(e,"Object")}},{key:"addPointer",value:function(e,t){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Pointer.");return this._fields[e]={type:"Pointer",targetClass:t},this}},{key:"addRelation",value:function(e,t){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Relation.");return this._fields[e]={type:"Relation",targetClass:t},this}},{key:"deleteField",value:function(e){this._fields[e]={__op:"Delete"}}},{key:"deleteIndex",value:function(e){this._indexes[e]={__op:"Delete"}}}],[{key:"all",value:function(e){return e=e||{},f.default.getSchemaController().get("",e).then(function(e){if(0===e.results.length)throw new Error("Schema not found.");return e.results})}}]),e}(),v={send:function(e,t,r,n){var o=f.default.getRESTController(),l={useMasterKey:!0};return n.hasOwnProperty("sessionToken")&&(l.sessionToken=n.sessionToken),o.request(t,"schemas/".concat(e),r,l)},get:function(e,t){return this.send(e,"GET",{},t)},create:function(e,t,r){return this.send(e,"POST",t,r)},update:function(e,t,r){return this.send(e,"PUT",t,r)},delete:function(e,t){return this.send(e,"DELETE",{},t)},purge:function(e){return f.default.getRESTController().request("DELETE","purge/".concat(e),{},{useMasterKey:!0})}};f.default.setSchemaController(v);var y=h;t.default=y},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(54)),l=n(r(55)),c=n(r(92)),f=n(r(129)),d=n(r(7));function h(){return d.default.getLiveQueryController().getDefaultLiveQueryClient()}var v=new c.default;v.open=(0,l.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.abrupt("return",t.open());case 4:case"end":return e.stop()}},e)})),v.close=(0,l.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.abrupt("return",t.close());case 4:case"end":return e.stop()}},e)})),v.on("error",function(){});var y,_=v;t.default=_;var m,w={setDefaultLiveQueryClient:function(e){y=e},getDefaultLiveQueryClient:(m=(0,l.default)(o.default.mark(function e(){var t,r,n,l,c,h,_,m,w;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return",y);case 2:return e.next=4,d.default.getUserController().currentUserAsync();case 4:if(t=e.sent,r=t?t.getSessionToken():void 0,!(n=d.default.get("LIVEQUERY_SERVER_URL"))||0===n.indexOf("ws")){e.next=9;break}throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");case 9:return n||(l=d.default.get("SERVER_URL"),c=0===l.indexOf("https")?"wss://":"ws://",h=l.replace(/^https?:\/\//,""),n=c+h,d.default.set("LIVEQUERY_SERVER_URL",n)),_=d.default.get("APPLICATION_ID"),m=d.default.get("JAVASCRIPT_KEY"),w=d.default.get("MASTER_KEY"),(y=new f.default({applicationId:_,serverURL:n,javascriptKey:m,masterKey:w,sessionToken:r})).on("error",function(e){v.emit("error",e)}),y.on("open",function(){v.emit("open")}),y.on("close",function(){v.emit("close")}),e.abrupt("return",y);case 18:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)}),_clearCachedDefaultClient:function(){y=null}};d.default.setLiveQueryController(w)},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,l=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function f(){f.init.call(this)}e.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var d=10;function h(e){return void 0===e._maxListeners?f.defaultMaxListeners:e._maxListeners}function v(e,t,r,n){var o,l,c,f;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),l=e._events),c=l[t]),void 0===c)c=l[t]=r,++e._eventsCount;else if("function"==typeof c?c=l[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),(o=h(e))>0&&c.length>o&&!c.warned){c.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=c.length,f=d,console&&console.warn&&console.warn(f)}return e}function y(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=function(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,e))}.bind(n);return o.listener=r,n.wrapFn=o,o}function _(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):w(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function w(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},f.prototype.getMaxListeners=function(){return h(this)},f.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var f=n[e];if(void 0===f)return!1;if("function"==typeof f)l(f,this,t);else{var d=f.length,h=w(f,d);for(i=0;i<d;++i)l(h[i],this,t)}return!0},f.prototype.addListener=function(e,t){return v(this,e,t,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(e,t){return v(this,e,t,!0)},f.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,y(this,e,t)),this},f.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,y(this,e,t)),this},f.prototype.removeListener=function(e,t){var r,n,o,i,l;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){l=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,l||t)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},f.prototype.listeners=function(e){return _(this,e,!0)},f.prototype.rawListeners=function(e){return _(this,e,!1)},f.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},f.prototype.listenerCount=m,f.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5)),l=n(r(9)),c=n(r(23)),f=n(r(16)),d=n(r(24)),h=n(r(92)),v=n(r(7)),y=function(e){function t(e,r,n){var l;return(0,o.default)(this,t),(l=(0,c.default)(this,(0,f.default)(t).call(this))).id=e,l.query=r,l.sessionToken=n,l.on("error",function(){}),l}return(0,d.default)(t,e),(0,l.default)(t,[{key:"unsubscribe",value:function(){var e=this;return v.default.getLiveQueryController().getDefaultLiveQueryClient().then(function(t){t.unsubscribe(e),e.emit("close")})}}]),t}(h.default);t.default=y}]]);